(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1631:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Routes=void 0;var r=d(n(2079)),a=d(n(2093)),o=d(n(2100)),i=d(n(2104)),l=d(n(2118)),s=d(n(2120)),c=d(n(2127)),u=n(489);function d(e){return e&&e.__esModule?e:{default:e}}t.Routes=[(0,u.makeRouteWithAnalytics)("personal-info",s.default),(0,u.makeRouteWithAnalytics)("language-preference",a.default),(0,u.makeRouteWithAnalytics)("password",l.default),(0,u.makeRouteWithAnalytics)("linked-accounts",o.default),(0,u.makeRouteWithAnalytics)("notifications",i.default),(0,u.makeRouteWithAnalytics)("subscriptions",c.default),(0,u.makeRouteWithAnalytics)("courses",r.default)]},1655:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SURVEY_TEXTS=t.TYPES=t.ATTEMPTED_SURVEY=t.COMPLETED_SURVEY=t.FREE_COURSE_SURVEY=void 0;var r=n(7),a=(t.FREE_COURSE_SURVEY="free_course_survey",t.COMPLETED_SURVEY="COMPLETED",t.ATTEMPTED_SURVEY="ATTEMPTED",t.TYPES={RADIO:"radio",CHECKBOX:"checkbox",RATING:"rating",CATEGORY_RATING:"category_rating",TEXT_AREA:"text_area"}),o=t.SURVEY_TEXTS={get OTHER_TEXT_INPUT(){return(0,r.__)("Other")},get WELCOME_SURVEY_TITLE(){return(0,r.__)("Please help us improve our student experience")},get WELCOME_SURVEY_SUBTITLE(){return(0,r.__)("It will take less than a minute to complete this survey")},get NONE(){return(0,r.__)("None")},get SURVEYS(){return[{question:(0,r.__)("How did you find out about this course?"),answers:[(0,r.__)("Knew about Udacity already and found it on Udacity.com"),(0,r.__)("Found through a search engine (i.e. Google)"),(0,r.__)("A friend, colleague, etc"),(0,r.__)("Heard about Udacity through an advertisement")],type:a.RADIO},{question:(0,r.__)("What would you most like to get out of this course?"),answers:[(0,r.__)("Expand my skills and/or advance in my career"),(0,r.__)("Gain the skills to complete/build a personal project"),(0,r.__)("General knowledge building"),(0,r.__)("Just exploring the technology"),(0,r.__)("See whether or not I like Udacity courses"),(0,r.__)("Complete prerequisites for a Udacity Nanodegree program"),o.OTHER_TEXT_INPUT],type:a.RADIO,hasInput:!0},{question:(0,r.__)("What are the various platforms that you have used for online learning? Select all that apply"),answers:[(0,r.__)("Youtube"),(0,r.__)("Text-based tutorial sites (e.g. W3schools)"),(0,r.__)("Other online platforms (e.g. Coursera, Udemy, EdX)"),o.OTHER_TEXT_INPUT,o.NONE],type:a.CHECKBOX,hasInput:!0},{question:(0,r.__)("How important is each of the following to you in a learning experience?"),categories:[(0,r.__)("Quality of lesson content"),(0,r.__)("Community (collaboration with other students)"),(0,r.__)("The projects I will complete")],range:5,type:a.CATEGORY_RATING,labels:[(0,r.__)("Not important at all"),(0,r.__)("Extremely important")]},{question:(0,r.__)("How important is each of the following to you in a learning experience? (Continue)"),categories:[(0,r.__)("Help services: getting help when I am stuck"),(0,r.__)("Career services: help getting a job"),o.OTHER_TEXT_INPUT],range:5,type:a.CATEGORY_RATING,hasInput:!0,labels:[(0,r.__)("Not important at all"),(0,r.__)("Extremely important")]},{question:(0,r.__)("How much time do you spend per week on this course?"),answers:[(0,r.__)("0 to 2 hours"),(0,r.__)("2 to 5 hours"),(0,r.__)("5 to 10 hours"),(0,r.__)("10+ hours")],type:a.RADIO},{question:(0,r.__)("Which field are you most interested in?"),answers:[(0,r.__)("Data Science / Data Analytics"),(0,r.__)("Artificial Intelligence"),(0,r.__)("Autonomous Systems"),(0,r.__)("Programming / Development"),(0,r.__)("Business (e.g. Digital Marketing)")],type:a.RADIO},{question:(0,r.__)("Based on your experience in the course so far, how likely are you to recommend a Udacity course to a friend or colleague?"),range:10,type:a.RATING,labels:[(0,r.__)("Not likely at all"),(0,r.__)("Extremely likely")]},{question:(0,r.__)("Would you consider taking a paid Udacity Nanodegree Program?"),range:10,type:a.RATING,labels:[(0,r.__)("Not likely at all"),(0,r.__)("Extremely likely")]}]}}},1658:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(124)),o=s(n(479)),i=s(n(0)),l=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}t.default={contextTypes:{params:i.default.objectOf(i.default.string),concept:o.default.node,course:o.default.node,lesson:o.default.node,module:o.default.node,nanodegree:o.default.node,part:o.default.node,project:o.default.node,root:o.default.node,specialization:i.default.object},track:function(t,n,o,i){var l=this.context.root?this._getEventPrefixFromSemanticType(this.context.root.semantic_type)+" ":e.get(n,"prefix",""),s=this._getBaseInfo(),c=e.chain(r({},s,n)).omitBy(e.isUndefined).omit("prefix").value();return a.default.track(""+l+t,c,o,i)},trackVideoSeen:function(e){var t=e.startTime,n=e.endTime,r=e.videoDuration,a=e.durationWatched,o=e.playerState,i=e.atomKey;(0,l.default)(void 0!==t,"start time is required"),(0,l.default)(n,"end time is required"),(0,l.default)(r,"video duration is required"),(0,l.default)(void 0!==a,"duration watched is required"),(0,l.default)(o,"player state is required"),(0,l.default)(i,"node key is required"),this.track("Video Watched",{startTime:t,endTime:n,videoDuration:r,durationWatched:a,playerState:o,atomKey:i})},_getEventPrefixFromSemanticType:function(e){return"Degree"===e?"Nanodegree":""+e},_getBaseInfo:function(){var e=this._getNodeTitlesFromContext(),t=this._getRootInfo(),n=this._getFreePreviewStatus();return r({},this.context.params,e,t,n)},_getFreePreviewStatus:function(){var t=this.context.nanodegree;if(!e.isEmpty(t))return{free_preview_status:e.get(t,"enrollment.free_preview_status")}},_getNodeTitlesFromContext:function(){var t=this.context,n=t.course,r=t.nanodegree,a=t.concept,o=t.part,i=t.module,l=t.lesson,s=t.specialization;return{concept_title:e.get(a,"title"),course_title:e.get(n,"title"),lesson_title:e.get(l,"title"),module_title:e.get(i,"title"),nanodegree_title:e.get(r,"title"),part_title:e.get(o,"title"),specialization_title:e.get(s,"title")}},_getRootInfo:function(){var t=this.context.root,n=e.get(t,"semantic_type")&&this._getEventPrefixFromSemanticType(e.get(t,"semantic_type"));return{content_type:e.toLower(n)||void 0,version:e.get(t,"version"),locale:e.get(t,"locale"),nd_key:e.get(t,"key")}}}}).call(this,n(4))},1664:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(33),c=n(0),u=(i=c)&&i.__esModule?i:{default:i};function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=(o=a=function(t){function n(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=a=d(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),a.state={isBusy:!1,_isMounted:!1},a.handleClick=function(e){if(!a.state.isBusy){var t=a.props.onClick;a.setState({isBusy:!0}),r.all([t(e)]).finally(function(){a.state._isMounted&&a.setState({isBusy:!1})})}},d(a,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),l(n,[{key:"componentDidMount",value:function(){this.state._isMounted=!0}},{key:"componentWillUnmount",value:function(){this.state._isMounted=!1}},{key:"render",value:function(){var t=this.props,n=t.label,r=t.small,a=t.variant,o=t.disabled,i=this.state.isBusy;return e.createElement(s.Button,{variant:a,disabled:o||i,onClick:this.handleClick,label:n,small:r})}}]),n}(),a.displayName="common/busy-button",a.propTypes={label:u.default.string,className:u.default.string,disabled:u.default.bool,onClick:u.default.func.isRequired},a.defaultProps={label:"",variant:"primary",className:"",disabled:!1},o);t.default=f}).call(this,n(1),n(11))},1682:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ONBOARDING_V1:"welcome_flow_2018_v1",ONBOARDING_NO_OPT_OUT:"welcome_flow_2018_no_opt_out",STUDENT_HUB:"STUDENT_HUB",NDHOME_EXPERIMENT_V1:"nd_home_v1_feature_test",NDHOME_FEATURE:"nd_home_feature_flag",NDHOME_TERM_DEADLINE:"nd_home_term_deadline",NDHOME_DEADLINE_POLICY_MODAL:"nd_home_deadline_policy_modal",CANCEL_FLOW_ASSISTED_SALES:"cancel_flow_with_assisted_sales",SHOW_TRUNCATED_UNREAD_MESSAGE:"student_hub_mentor_message"}},1719:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=f(n(1664)),c=f(n(0)),u=n(7),d=f(n(2094));function f(e){return e&&e.__esModule?e:{default:e}}t.default=e((i=o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.onCancelClick,n=e.onSaveClick,a=e.isSaveEnabled;return r.createElement("div",{styleName:"buttons-container"},r.createElement(s.default,{onClick:t,variant:"secondary",label:(0,u.__)("cancel")}),r.createElement(s.default,{onClick:n,variant:"primary",disabled:!a,label:(0,u.__)("save")}))}}]),t}(),o.displayName="settings/setting-buttons",o.propTypes={onSaveClick:c.default.func,onCancelClick:c.default.func,isSaveEnabled:c.default.bool},o.defaultProps={onSaveClick:a.noop,onCancelClick:a.noop,isSaveEnabled:!0},i),d.default)}).call(this,n(5),n(1),n(4))},1745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(1695);var o=(0,((r=a)&&r.__esModule?r:{default:r}).default)({loader:function(){return Promise.all([n.e(13),n.e(5)]).then(n.t.bind(null,1980,7))},loading:function(){return null}});t.default=o},1746:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MinimalCard=t.Card=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(0)),i=l(n(1788));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var c=e(function(e){var t=e.icon,n=e.imageUrl,a=e.primary,o=e.renderCTA,i=e.summary,l=e.title;return r.createElement("div",{styleName:"contents"},n&&r.createElement("img",{src:n,styleName:"card-image",alt:l}),t&&r.createElement("div",{styleName:"icon"},t),r.createElement("div",{styleName:"text"},l&&r.createElement("h3",null,l),i&&r.createElement("p",{styleName:"summary"},i)),o&&r.createElement("div",{styleName:"cta"},o({primary:a})))},i.default);c.displayName="nanodegree-dashboard/overview/card/_card",c.propTypes={icon:o.default.element,imageUrl:o.default.string,primary:o.default.bool,renderCTA:o.default.func,summary:o.default.string,title:o.default.string};var u=function(e){var t=e.footer,n=e.header,a=s(e,["footer","header"]);return r.createElement("li",{styleName:a.primary?"card-primary":"card-secondary"},n,r.createElement(c,a),t)};u.displayName="nanodegree-dashboard/overview/card/_card",u.propTypes=a({footer:o.default.node,header:o.default.node},c.propTypes),u.defaultProps={primary:!1};var d=e(u,i.default),f=function(e){var t=e.intent,n=s(e,["intent"]);return r.createElement("li",{styleName:"card-minimal-"+t},r.createElement(c,n))};f.displayName="nanodegree-dashboard/overview/card/_card",f.propTypes=a({intent:o.default.oneOf(["primary","info","warning"])},c.propTypes),f.defaultProps={primary:!1};var p=e(f,i.default);t.Card=d,t.MinimalCard=p}).call(this,n(5),n(1))},1787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){return{category:t.category||null,label:t.label||null,product_key:e.product_key,variant:e.product_variant,name:e.name,price:e.amount/100,currency:e.currency}}var o={getSubscriptionData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?r({},a(e,t),{subscription_id:e.id,sku:e.product_key}):{}},getPurchaseData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?r({},a(e,t),{purchase_urn:e.urn,term_id:e.term_id,cohort_id:e.cohort_id}):{}},getCourseData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?{course_id:e.id,category:t.category||null,label:t.label||null,is_graduated:e.is_graduated,title:e.title}:{}}};t.default=o},1788:function(e,t,n){e.exports={_card:"_card--_card--1V87g shared--card--3X88h","card-image":"_card--card-image--2M3JT","card-primary":"_card--card-primary--2lSgO _card--_card--1V87g shared--card--3X88h","card-secondary":"_card--card-secondary--1x4n6 _card--_card--1V87g shared--card--3X88h","_card-minimal":"_card--_card-minimal--3UyWs _card--_card--1V87g shared--card--3X88h","card-minimal-info":"_card--card-minimal-info--eL63o _card--_card-minimal--3UyWs _card--_card--1V87g shared--card--3X88h","card-minimal-warning":"_card--card-minimal-warning--3xkRE _card--_card-minimal--3UyWs _card--_card--1V87g shared--card--3X88h",icon:"_card--icon--1sbtU","card-minimal-primary":"_card--card-minimal-primary--3MVO9 _card--_card-minimal--3UyWs _card--_card--1V87g shared--card--3X88h",contents:"_card--contents--6oCzZ",text:"_card--text--3j4x0",cta:"_card--cta--3lh2c",summary:"_card--summary--iEQxH"}},1872:function(e,t,n){e.exports=n.p+"images/ghost-fef4b.gif"},1882:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var a,o,i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),c=n(2183),u=(i=c)&&i.__esModule?i:{default:i};t.default=e((o=a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),l(t,[{key:"render",value:function(){return r.createElement("div",null,r.createElement("h1",{styleName:"header-text"},(0,s.__)("Billing Information")))}}]),t}(),a.displayName="settings/setting-billing/_billing-header",o),u.default)}).call(this,n(5),n(1))},1883:function(e,t,n){e.exports=n.p+"images/ghost-sleeping-250d1.png"},2079:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(1658)),i=h(n(2080)),l=n(55),s=h(n(2090)),c=h(n(0)),u=n(7),d=n(192),f=n(31),p=h(n(21)),m=h(n(2092));function h(e){return e&&e.__esModule?e:{default:e}}var y=(0,d.actionsBinder)("fetchSubscribedCourses");t.default=(0,f.connect)(function(e){return{courses:e.courses}},y)(e((0,p.default)({displayName:"settings/setting-courses",propTypes:{courses:c.default.array},contextTypes:{router:c.default.object},mixins:[o.default],getDefaultProps:function(){return{courses:[]}},componentWillMount:function(){this.props.fetchSubscribedCourses()},_renderSubscribedCourses:function(){var e=this.props,t=e.courses,n=e.fetchSubscribedCourses;return r.map(t,function(e,t){return a.createElement("li",{key:t},a.createElement(i.default,{course:e,onCancelCourse:n}))})},render:function(){var e=this.props.courses;return a.createElement("section",{styleName:"content-container"},0===e.length?a.createElement(s.default,{enrollmentType:"course"}):a.createElement("div",null,a.createElement("h1",{styleName:"course-header"},a.createElement(l.IconCourse,{color:"green",size:"lg",title:(0,u.__)("Courses")})," ",(0,u.__)("Courses")),a.createElement("ul",null,this._renderSubscribedCourses(e))))}}),m.default))}).call(this,n(5),n(4),n(1))},2080:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(1787)),o=p(n(1658)),i=p(n(2081)),l=p(n(2083)),s=p(n(2086)),c=p(n(0)),u=n(7),d=p(n(21)),f=p(n(2089));function p(e){return e&&e.__esModule?e:{default:e}}t.default=e((0,d.default)({displayName:"settings/setting-courses/_course-card",propTypes:{course:c.default.shape({title:c.default.string.isRequired}).isRequired,onCancelCourse:c.default.func},mixins:[o.default],handleOpenCancelModal:function(){var e=a.default.getSubscriptionData(this.props.course,{category:"Cancel Subscription Attempt",label:"Cancel Subscription Attempt - Clicked"});this.track("Clicked Cancel Subscription",e)},_getFooterItems:function(){var e=this.props,t=e.course,n=e.onCancelCourse;return[{content:(0,u.__)("Remove Course"),modal:i.default,onShowModal:this.handleOpenCancelModal,modalProps:{course:t,onCancel:n}}]},render:function(){var e=this.props.course;return r.createElement(l.default,{title:e.title},r.createElement("p",null,(0,u.__)("You will not be billed for this free course.")),r.createElement(s.default,{links:this._getFooterItems()}))}}),f.default)}).call(this,n(5),n(1))},2081:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0});var o=h(n(13)),i=h(n(1787)),l=h(n(1658)),s=h(n(1664)),c=n(33),u=h(n(0)),d=n(7),f=n(31),p=h(n(21)),m=h(n(2082));function h(e){return e&&e.__esModule?e:{default:e}}t.default=(0,f.connect)(null,function(e){return{onCancelCourse:function(t){return e(o.default.cancelCourse(t))}}})(e((0,p.default)({displayName:"settings/setting-subscriptions/_cancel-course-modal",propTypes:{show:u.default.bool,onHide:u.default.func,course:u.default.object},mixins:[l.default],getDefaultProps:function(){return{show:!1,onHide:r.noop,course:{}}},handleCancelClick:function(){var e=this,t=this.props,n=t.course,a=t.onHide,o=t.onCancel,l={category:"Remove Course Submitted",label:"Remove Course Submitted"},s=r.extend(i.default.getCourseData(n,l));return this.props.onCancelCourse(n.key).then(function(){return e.track(l.label,s)}).then(function(){return a()}).then(function(){return o()})},handleModalHide:function(){var e=this.props.course,t=i.default.getCourseData(e,{category:"Remove Course Attempt",label:"Remove Course Attempt - Dismissed"});this.props.onHide(),this.track("Remove Course Modal Dismissed",t)},render:function(){var e=this.props.show;return a.createElement(c.Modal,{open:e,onClose:this.handleModalHide,label:(0,d.__)("Cancel Course"),closeLabel:(0,d.__)("Close Modal")},a.createElement("div",{styleName:"modal-container"},a.createElement("h2",{styleName:"header-text-ctr"},(0,d.__)("Remove Course?")),a.createElement("p",null,(0,d.__)("You will not be billed for this free course.")),a.createElement("div",{styleName:"cancel-button"},a.createElement(s.default,{className:"btn-primary",label:(0,d.__)("Remove Course"),onClick:this.handleCancelClick})),a.createElement("a",{href:"#",onClick:this.handleModalHide},(0,d.__)("Cancel"))))}}),m.default))}).call(this,n(5),n(4),n(1))},2082:function(e,t,n){e.exports={"header-text-ctr":"_cancel-course-modal--header-text-ctr--3E5Sl form--header-text--ZDMyT","modal-container":"_cancel-course-modal--modal-container--2CeAl form--flex-column--g8OLQ","responses-container":"_cancel-course-modal--responses-container--1JOoY form--flex-column--g8OLQ","cancel-button":"_cancel-course-modal--cancel-button--3ogsX"}},2083:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(2084),o=(r=a)&&r.__esModule?r:{default:r};t.default=o.default},2084:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=u(n(0)),c=u(n(2085));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=e((i=o=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={activeLink:null},a._renderTitle=function(){var e=a.props,t=e.title,n=e.faded;if(t)return r.createElement("h5",{styleName:n?"header-faded":"header"},t)},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),l(t,[{key:"render",value:function(){return r.createElement("div",{styleName:"card"},this._renderTitle(),this.props.children)}}]),t}(),o.displayName="settings/card",o.propTypes={children:s.default.node,faded:s.default.bool,title:s.default.node,onVersionUpdate:s.default.func},o.defaultProps={faded:!1,onVersionUpdate:a.noop},i),c.default)}).call(this,n(5),n(1),n(4))},2085:function(e,t,n){e.exports={card:"_card--card--1vaya",header:"_card--header--3XUBR form--header-text--ZDMyT","header-faded":"_card--header-faded--3xVPy form--header-text--ZDMyT"}},2086:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(2087),o=(r=a)&&r.__esModule?r:{default:r};t.default=o.default},2087:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=d(n(0)),u=d(n(2088));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=e((i=o=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=o=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={activeLink:null},o.handleShowModal=function(e,t){e.preventDefault(),t.onShowModal&&t.onShowModal(),o.setState({activeLink:t})},o.handleHideModal=function(){var e=o.state.activeLink;e.onHideModal&&e.onHideModal(),o.setState({activeLink:null})},o._renderModal=function(){var e=o.state.activeLink;if(e)return r.createElement(e.modal,l({onHide:o.handleHideModal,show:!0},e.modalProps))},o._renderLink=function(e){return e.href?r.createElement("a",{href:e.href,target:e.target||"_self",onClick:a.defaultTo(e.onClick,a.noop),className:e.className},e.content):e.modal?r.createElement("a",{href:"#",className:e.className,onClick:function(t){return o.handleShowModal(t,e)}},e.content):r.createElement("span",null,e.content)},o._renderLinks=function(){return a.chain(o.props.links).map(function(e,t){return r.createElement("li",{key:t},o._renderLink(e))}).compact().value()},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),s(t,[{key:"render",value:function(){return r.createElement("ul",{styleName:"link-container"},this._renderLinks(),this._renderModal())}}]),t}(),o.displayName="settings/link-list",o.propTypes={links:c.default.arrayOf(c.default.shape({content:c.default.node.isRequired,className:c.default.string,href:c.default.string,modal:c.default.any,onShowModal:c.default.func,onHideModal:c.default.func,modalProps:c.default.objectOf(c.default.any)}))},i),u.default)}).call(this,n(5),n(1),n(4))},2088:function(e,t,n){e.exports={"link-container":"_link-list--link-container--2WXGs form--link--hghHc"}},2089:function(e,t,n){e.exports={"update-link":"_course-card--update-link--fWyCI"}},2090:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(55),s=d(n(0)),c=n(7),u=d(n(2091));function d(e){return e&&e.__esModule?e:{default:e}}t.default=e((o=a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"render",value:function(){var e,t;return"course"===this.props.enrollmentType?(e=(0,c.__)("You currently do not have any course enrollments"),t=r.createElement(l.IconCourse,{size:"lg",color:"green"})):(e=(0,c.__)("You currently do not have any subscriptions"),t=r.createElement(l.IconNanodegree,{size:"lg",color:"cerulean"})),r.createElement("div",{styleName:"no-enroll-container"},t,r.createElement("h4",{styleName:"status-text"},e),r.createElement("a",{href:(0,c.__)("https://www.udacity.com/courses/all"),target:"_blank"},(0,c.__)("See full catalog")))}}]),t}(),a.displayName="settings/setting-subscriptions/_no-enrollment",a.propTypes={enrollmentType:s.default.string},o),u.default)}).call(this,n(5),n(1))},2091:function(e,t,n){e.exports={"no-enroll-container":"_no-enrollment--no-enroll-container--2d9-k form--flex-column--g8OLQ","status-text":"_no-enrollment--status-text--s7xE6 form--header-text--ZDMyT"}},2092:function(e,t,n){e.exports={"content-container":"setting-subscriptions--content-container--2WtjD form--flex-column--g8OLQ form--main--31YLe","link-container":"setting-subscriptions--link-container--3DvdB form--link--hghHc","_header-text":"setting-subscriptions--_header-text--3Ucr6 form--header-text--ZDMyT","subscriptions-header":"setting-subscriptions--subscriptions-header--spEhq setting-subscriptions--_header-text--3Ucr6 form--header-text--ZDMyT","course-header":"setting-subscriptions--course-header--3r5Qn setting-subscriptions--_header-text--3Ucr6 form--header-text--ZDMyT","subscription-card-china":"setting-subscriptions--subscription-card-china--3valj",link:"setting-subscriptions--link--184wB"}},2093:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=h(n(13)),l=h(n(1658)),s=n(33),c=h(n(295)),u=h(n(1719)),d=h(n(1648)),f=n(31),p=h(n(21)),m=h(n(2099));function h(e){return e&&e.__esModule?e:{default:e}}t.default=(0,f.connect)(null,function(e){return{onUpdateUser:function(t){var n=t.language;return e(i.default.updateLanguage({language:n}))}}})(e((0,p.default)({displayName:"settings/setting-language-preference",mixins:[l.default],getInitialState:function(){return{language:o.i18n.getLocale()||"",placeholder:o.i18n.getLocaleName(),updating:!1}},handleCancelClick:function(){this.setState({language:o.i18n.getLocale()})},handleOptionChange:function(e){return this.setState({language:e.value,placeholder:e.label})},handleSaveClick:function(){return o.i18n._setLocale(this.state.language),c.default.setDocumentLanguage(this.state.language),this.track("Language Changed",{language:this.state.language}),this.setState({updating:!0}),this.props.onUpdateUser(r.pick(this.state,["language"]))},render:function(){var e=this.state.updating;return a.createElement("section",{styleName:"content-container"},a.createElement("div",{styleName:"main"},a.createElement("h1",{styleName:"content-header"},(0,o.__)("Language Preference")),a.createElement("form",{styleName:"drop-down"},a.createElement(d.default,{name:"Language Preference",options:r.map(o.I18N_CONSTANTS.LOCALE_MAP,function(e,t){return{value:t,label:e}}),placeholder:this.state.placeholder,searchable:!1,clearable:!1,onChange:this.handleOptionChange}))),e?a.createElement("div",{styleName:"spinner"},a.createElement(s.Loading,{label:(0,o.__)("Loading")})):a.createElement(u.default,{onSaveClick:this.handleSaveClick,onCancelClick:this.handleCancelClick}))}}),m.default))}).call(this,n(5),n(4),n(1))},2094:function(e,t,n){e.exports={"buttons-container":"_setting-buttons--buttons-container--3qh20"}},2099:function(e,t,n){e.exports={"content-container":"setting-language-preference--content-container--3t0-2 form--flex-column--g8OLQ",main:"setting-language-preference--main--24B9l form--main--31YLe","content-header":"setting-language-preference--content-header--3b-w8 form--header-text--ZDMyT","drop-down":"setting-language-preference--drop-down--1PMaS",spinner:"setting-language-preference--spinner--13aKd"}},2100:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=y(n(292)),c=y(n(0)),u=y(n(57)),d=y(n(2101)),f=n(7),p=n(192),m=n(31),h=y(n(2103));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=(0,p.actionsBinder)("fetchUserBase","fetchFacebookName","fetchGoogleName");t.default=(0,m.connect)(function(e){return{facebookName:u.default.State.getFacebookName(e),googleName:u.default.State.getGoogleName(e)}},g)(e((i=o=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=o=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={showDisconnectModal:null},o._refreshNamesFromProviders=function(){o.isConnectedToProvider("Facebook")&&o.props.fetchFacebookName(),o.isConnectedToProvider("Google")&&o.props.fetchGoogleName()},o.isConnectedToProvider=function(e){var t=o.props.user;return!!a.find(t.social_logins,{provider:e})},o.nameWithProvider=function(e){return"Facebook"===e?o.props.facebookName?"("+o.props.facebookName+")":"":"Google"===e?o.props.googleName?"("+o.props.googleName+")":"":void 0},o.handleProviderConnect=function(e){var t=window.location,n=(t=window.location).protocol+"//"+t.host+"/settings/linked-accounts",r=CONFIG.userApiUrl+"/me/linked_accounts/link?provider="+e.toLowerCase()+"&next="+encodeURIComponent(n);s.default.redirectTo(r)},o.handleHide=function(){o.setState({showDisconnectModal:null})},o.handleProviderDisconnect=function(e,t){t.preventDefault(),o.setState({showDisconnectModal:e})},o.renderProvider=function(e){var t=o.isConnectedToProvider(e);return r.createElement("li",{key:"provider-"+e},r.createElement("dl",null,r.createElement("dd",{styleName:t?"connected":"disconnected",title:t?"Connected":"Not Connected"},r.createElement("span",null,t?(0,f.__)("Connected"):(0,f.__)("Not Connected"))),r.createElement("dt",null,e),r.createElement("dd",null,o.nameWithProvider(e)),r.createElement("dd",{styleName:"status"},t?r.createElement("a",{href:"#",onClick:function(t){return o.handleProviderDisconnect(e,t)}},r.createElement("span",null,(0,f.__)("Disconnect"))):r.createElement("a",{href:"#",onClick:function(t){return o.handleProviderConnect(e,t)}},r.createElement("span",null,(0,f.__)("Connect"))))))},_(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),l(t,[{key:"componentWillMount",value:function(){this.props.user.social_logins&&this._refreshNamesFromProviders()}},{key:"componentWillReceiveProps",value:function(e){a.isEqual(e.user.social_logins,this.props.user.social_logins)||this._refreshNamesFromProviders()}},{key:"render",value:function(){var e=this.state.showDisconnectModal,t=this.props.fetchUserBase;return r.createElement("section",{styleName:"content-container"},r.createElement("div",{styleName:"main"},r.createElement("h1",{styleName:"content-header"},(0,f.__)("Linked Accounts")),r.createElement("ul",null,this.renderProvider("Facebook"),this.renderProvider("Google")),e?r.createElement(d.default,{show:!0,onHide:this.handleHide,onDisconnect:t,provider:e}):null))}}]),t}(),o.displayName="settings/setting-linked-accounts",o.propTypes={user:c.default.object.isRequired},o.defaultProps={user:{}},i),h.default))}).call(this,n(5),n(1),n(4))},2101:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(33),c=m(n(0)),u=n(7),d=n(192),f=n(31),p=m(n(2102));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=(0,f.connect)(null,(0,d.actionsBinder)("deleteSocialLogin"))(e((i=o=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleCancelClick=function(){var e=r.props,t=e.provider,n=e.onHide,a=e.onDisconnect;return r.props.deleteSocialLogin(t).then(function(){return n()}).then(function(){return a()})},r.handleModalHide=function(){r.props.onHide()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),l(t,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.provider;return r.createElement("div",{styleName:"unlink-container"},r.createElement(s.Modal,{open:t,onClose:this.handleModalHide,label:(0,u.__)("Unlink Account"),closeLabel:(0,u.__)("Close Modal")},r.createElement("div",{styleName:"modal-container"},r.createElement("div",{styleName:"header-text-ctr"},(0,u.__)("Unlink Account?")),r.createElement("p",null,(0,u.__)("Are you sure you want to unlink your <%= socialLoginProvider %> account?",{socialLoginProvider:n})),r.createElement("div",{styleName:"btn-cancel"},r.createElement(s.Button,{variant:"primary",onClick:this.handleCancelClick,label:(0,u.__)("Unlink Account"),disabled:!1,isBusy:!1})),r.createElement("a",{href:"#",onClick:this.handleModalHide},(0,u.__)("Cancel")))))}}]),t}(),o.displayName="settings/setting-linked-accounts/_unlink-account-modal",o.propTypes={show:c.default.bool,onHide:c.default.func,provider:c.default.string.isRequired,onDisconnect:c.default.func.isRequired},o.defaultProps={show:!1,onHide:a.noop,provider:"",onDisconnect:a.noop},i),p.default))}).call(this,n(5),n(1),n(4))},2102:function(e,t,n){e.exports={"unlink-container":"_unlink-account-modal--unlink-container--3Pnqt","header-text-ctr":"_unlink-account-modal--header-text-ctr--1i8gx form--header-text--ZDMyT","modal-container":"_unlink-account-modal--modal-container--25UcU form--flex-column--g8OLQ","btn-cancel":"_unlink-account-modal--btn-cancel--1p0Eo"}},2103:function(e,t,n){e.exports={"content-container":"setting-linked-accounts--content-container--3172B form--flex-column--g8OLQ",main:"setting-linked-accounts--main--1H5vk form--main--31YLe",connected:"setting-linked-accounts--connected--2gX8u",disconnected:"setting-linked-accounts--disconnected--2UM9r",status:"setting-linked-accounts--status--2jRiF","content-header":"setting-linked-accounts--content-header--2s99F form--header-text--ZDMyT"}},2104:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0}),t.SettingNotifications=void 0;var o,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=S(n(479)),d=n(297),f=n(33),p=S(n(79)),m=S(n(2105)),h=S(n(2106)),y=S(n(0)),_=S(n(515)),g=S(n(57)),b=S(n(125)),v=n(7),E=n(192),w=n(31),C=n(289);function S(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=t.SettingNotifications=(i=o=function(t){function n(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return t=o=N(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={projectReviewerLoaded:!1,isProjectReviewer:null},o._saveSchedulePreferences=function(e){var t=e.email,n=e.sms,i=o.props,l=i.schedules,c=i.updateSchedule,u=i.user;return r.map(a.toPairs(l),function(e){var r=s(e,2),a=r[0],o=r[1];return c(u.id,a,o.user_timezone,t,n)})},o._saveScheduleReminder=function(e,t){var n=o.props.schedules,r={email:a.some(n,"email"),sms:a.some(n,"sms")};return r[e]=t,o._saveSchedulePreferences({email:r.email,sms:r.sms})},o._saveNotificationPreference=function(e,t,n){var r=o.props;return(0,r.updateNotificationPreferences)(r.user.id,[{category:e,channel:t,value:n}])},o.handleSaveSetting=function(e,t,n){"studyReminders"===e&&o._saveScheduleReminder(t,n),o._saveNotificationPreference(e,t,n)},o.handleUnsubscribeAll=function(){var e=o.props;(0,e.updateNotificationPreferencesUnsubscribeAll)(e.user.id),o._saveSchedulePreferences({email:!1,sms:!1})},N(o,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),c(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.fetchNotificationPreferences,r=t.fetchSchedules,o=t.nanodegrees,i=t.user;r(i.id,a.map(o,"key")),n(i.id),_.default.isProjectReviewer().then(function(t){e.setState({projectReviewerLoaded:!0,isProjectReviewer:t})})}},{key:"render",value:function(){var t=this,n=this.props,r=n.activeNotificationPreferenceChanges,o=n.nanodegrees,i=n.preferences,s=n.preferencesLoaded,c=n.schedules,u=n.schedulesLoaded,m=n.user,y=n.isStudentHubEnabled,_=this.state,b=_.isProjectReviewer,E=_.projectReviewerLoaded;if(!s||!u||!E)return e.createElement("div",{style:{display:"flex"}},e.createElement(f.Loading,{label:(0,v.__)("Loading")}));var w=a.some(o,p.default.isEnterprise),C=l({},i,{studyReminders:{email:a.some(c,"email"),sms:a.some(c,"sms")}});return e.createElement(d.ExternalServiceConsumer,null,function(n){var o=n.isCareerPortalEnabled;return e.createElement(h.default,{hasSchedule:!a.isEmpty(c),isEnterprise:w,isPhoneNumberVerified:m.is_phone_number_verified,isCareerPortalEnabled:o,isProjectReviewer:b,isStudentHubEnabled:y,saveSetting:t.handleSaveSetting,savingGroups:r,settings:C,studentHubUsername:g.default.getStudentHubUsername(m),unsubscribeAll:t.handleUnsubscribeAll})})}}]),n}(),o.displayName="settings/notifications",o.propTypes={nanodegrees:y.default.arrayOf(u.default.nanodegree),schedules:y.default.objectOf(u.default.schedule).isRequired,schedulesLoaded:y.default.bool.isRequired,user:y.default.object.isRequired,fetchSchedules:y.default.func.isRequired,activeNotificationPreferenceChanges:y.default.arrayOf(y.default.string).isRequired,fetchNotificationPreferences:y.default.func.isRequired,preferences:y.default.object,preferencesLoaded:y.default.bool.isRequired,updateNotificationPreferences:y.default.func.isRequired,updateNotificationPreferencesUnsubscribeAll:y.default.func.isRequired,updateSchedule:y.default.func.isRequired,isStudentHubEnabled:y.default.bool},i);t.default=(0,w.connect)(function(e){return{nanodegrees:g.default.State.getNanodegrees(e),activeNotificationPreferenceChanges:b.default.State.activeNotificationPreferenceChanges(e),preferences:m.default.State.preferences(e),preferencesLoaded:!b.default.State.isFetchingNotificationPreferences(e),schedules:e.schedules,schedulesLoaded:!b.default.State.isFetchingSchedules(e),isStudentHubEnabled:(0,C.selectStudentHubAccess)(e)}},(0,E.actionsBinder)("fetchNotificationPreferences","fetchSchedules","updateNotificationPreferences","updateNotificationPreferencesUnsubscribeAll","updateSchedule"))(O)}).call(this,n(1),n(11),n(4))},2105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={State:{isLoading:function(e){return e.notificationPreferences.loading},preferences:function(e){return e.notificationPreferences.preferences}}}},2106:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,l,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2107),u=n(33),d=C(n(2109)),f=C(n(2110)),p=C(n(2111)),m=C(n(2112)),h=C(n(2113)),y=C(n(2114)),_=C(n(2115)),g=C(n(2116)),b=n(100),v=n(495),E=C(n(0)),w=n(7);function C(e){return e&&e.__esModule?e:{default:e}}var S=e(C(n(2117)).default)((l=i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSettingsChange=function(e,t,r){var a=r.target.checked;return n.props.saveSetting(e,t,a)},n.handleUnsubscribeAll=function(){n.props.unsubscribeAll()},n.isUnsubscribedAll=function(){return!a.some(n.props.settings,function(e){return a.some(e,function(e){return!0===e})})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),s(t,[{key:"render",value:function(){var e=this.props,t=e.hasSchedule,n=e.isEnterprise,o=e.isCareerPortalEnabled,i=e.isStudentHubEnabled,l=e.isPhoneNumberVerified,s=e.isProjectReviewer,v=e.savingGroups,E=e.settings,C=e.studentHubUsername;return r.createElement("section",{styleName:"content-container"},r.createElement("div",{styleName:"main"},r.createElement("h1",{styleName:"content-header"},(0,w.__)("Notification Preferences")),r.createElement("div",{styleName:"content-section"},r.createElement("p",{styleName:"intro-text"},(0,w.__)("Configure your notification settings by checking the delivery method you prefer. Uncheck the box if you do not wish to receive the notifications for that communication type. SMS notifications require a ")," ",r.createElement(b.Link,{to:"/settings/personal-info"},(0,w.__)("verified phone number")),". ",(0,w.__)("You may receive up to three messages per day and message rates may apply. Reply STOP to end.")),r.createElement("ul",null,t&&r.createElement(c.NotificationSettingsCard,{image:g.default,isSaving:a.includes(v,"studyReminders"),subtitle:(0,w.__)("Notify me at the time I selected in my study plan."),title:(0,w.__)("Study Reminders")},r.createElement(c.NotificationSettingsCardContent,{group:"studyReminders",settings:E.studyReminders,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"studyReminders")})),r.createElement(c.NotificationSettingsCard,{image:h.default,isSaving:a.includes(v,"paymentReminders"),subtitle:(0,w.__)("Send me messages for payment reminders."),title:(0,w.__)("Payment Reminders")},r.createElement(c.NotificationSettingsCardContent,{group:"payment_reminders",includePhone:!1,includeEmail:!1,settings:E.paymentReminders,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"paymentReminders")})),r.createElement(c.NotificationSettingsCard,{image:m.default,isSaving:a.includes(v,"learning"),subtitle:(0,w.__)("Notify me with due date reminders, check-ins and more to help me stay on track of my learning goals."),title:(0,w.__)("Learning Progress")},r.createElement(c.NotificationSettingsCardContent,{group:"learning",settings:E.learning,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"learning")})),r.createElement(c.NotificationSettingsCard,{image:p.default,isSaving:a.includes(v,"community"),subtitle:(0,w.__)("Send me personalized messages from my Community Manager about events and news in the field."),title:(0,w.__)("Community")},r.createElement(c.NotificationSettingsCardContent,{group:"community",settings:E.community,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"community")})),!n&&r.createElement(c.NotificationSettingsCard,{image:f.default,isSaving:a.some(v,function(e){return"careerServices"===e||"careerInfo"===e||"alumni"===e}),subtitle:(0,w.__)("Keep me connected with career and alumni support included in my Nanodegree program."),subsubtitle:o?(0,w.__)('Opt-out of emails from our network of Talent Program employers by <a href="https://classroom.udacity.com/profiles/u/edit">unsharing your Udacity Profile</a>.',{},{renderHTML:!0}):(0,w.__)('Opt-out of emails from our network of Talent Program employers by <a href="https://udacity.com/get-hired" target="_blank">unsharing your Udacity Profile</a>.',{},{renderHTML:!0}),title:(0,w.__)("Career and Alumni Services")},r.createElement(c.NotificationSettingsCardContent,{title:(0,w.__)("Career Service Updates and Reminders"),group:"careerServices",settings:E.careerServices,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"careerServices")}),r.createElement(c.NotificationSettingsCardContent,{title:(0,w.__)("Career and Professional Events, Webinars, Opportunities"),group:"careerInfo",settings:E.careerInfo,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"careerInfo")}),r.createElement(c.NotificationSettingsCardContent,{title:(0,w.__)("Alumni Newsletter"),group:"alumni",settings:E.alumni,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"alumni")})),i&&r.createElement(c.NotificationSettingsCard,{image:_.default,isSaving:a.some(v,function(e){return a.startsWith(e,"studentHub")}),subtitle:(0,w.__)("Notify me when I am mentioned by classmates and mentors."),title:(0,w.__)("Student Hub")},r.createElement(c.NotificationSettingsCardContent,{title:C,subtitle:(0,w.__)("Messages tagging me directly in any channel"),group:"studentHubMe",settings:E.studentHubMe,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"studentHubMe")}),r.createElement(c.NotificationSettingsCardContent,{title:(0,w.__)("Direct Messages"),subtitle:(0,w.__)("Unread messages sent directly to me"),group:"studentHubDirect",settings:E.studentHubDirect,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"studentHubDirect")}),r.createElement(c.NotificationSettingsCardContent,{title:(0,w.__)("@channel"),subtitle:(0,w.__)("Messages tagging the whole channel"),group:"studentHubChannel",settings:E.studentHubChannel,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"studentHubChannel")})),s&&r.createElement(c.NotificationSettingsCard,{image:y.default,isSaving:a.includes(v,"reviews"),subtitle:(0,w.__)("Send me notifications when I am assigned a review."),title:(0,w.__)("Project Reviews")},r.createElement(c.NotificationSettingsCardContent,{group:"reviews",settings:E.reviews,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"reviews")})),r.createElement(c.NotificationSettingsCard,{image:d.default,isSaving:a.some(v,function(e){return a.startsWith(e,"marketing")}),subtitle:(0,w.__)("Learn about new courses and programs, scholarship opportunities and upcoming special events."),title:(0,w.__)("Marketing Communications")},r.createElement(c.NotificationSettingsCardContent,{title:(0,w.__)("Upcoming special events and webinars"),group:"marketingEvents",includePhone:!0,settings:E.marketingEvents,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"marketingEvents")}),r.createElement(c.NotificationSettingsCardContent,{title:(0,w.__)("New courses and Nanodegree programs"),group:"marketingNewContent",includePhone:!0,settings:E.marketingNewContent,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"marketingNewContent")}),r.createElement(c.NotificationSettingsCardContent,{title:(0,w.__)("Scholarship opportunities"),group:"marketingScholarships",includePhone:!0,settings:E.marketingScholarships,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"marketingScholarships")}),r.createElement(c.NotificationSettingsCardContent,{title:(0,w.__)("Surveys to improve my experience"),group:"marketingSurveys",includePhone:!0,settings:E.marketingSurveys,isPhoneNumberVerified:l,handleChange:a.partial(this.handleSettingsChange,"marketingSurveys")}))),r.createElement("div",{styleName:"unsubscribe-all"},r.createElement(u.Checkbox,{label:(0,w.__)("Unsubscribe me from all Udacity notifications"),id:"unsubscribe-all",checked:this.isUnsubscribedAll(),onChange:this.handleUnsubscribeAll})))))}}]),t}(),i.displayName="settings/_notifications",i.propTypes={hasSchedule:E.default.bool.isRequired,isCareerPortalEnabled:E.default.bool.isRequired,isEnterprise:E.default.bool.isRequired,isPhoneNumberVerified:E.default.bool.isRequired,isProjectReviewer:E.default.bool.isRequired,isStudentHubEnabled:E.default.bool.isRequired,saveSetting:E.default.func.isRequired,savingGroups:E.default.arrayOf(E.default.string).isRequired,settings:v.NotificationPreferencesPropType.isRequired,studentHubUsername:E.default.string.isRequired,unsubscribeAll:E.default.func.isRequired},o=l))||o;t.default=S}).call(this,n(5),n(1),n(4))},2107:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationSettingsCard=t.NotificationSettingsCardContent=void 0;var o,i,l,s,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(33),p=n(55),m=n(495),h=g(n(0)),y=n(7),_=g(n(2108));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.NotificationSettingsCardContent=e(_.default)((l=i=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,r.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.group,n=e.includeEmail,o=void 0===n||n,i=e.includePhone,l=void 0!==i&&i,s=e.skipPhoneVerification,c=void 0!==s&&s,u=e.isPhoneNumberVerified,d=e.settings,m=e.handleChange,h=e.title,_=e.subtitle,g=!c&&!u;return r.createElement("dl",{styleName:l?"wide":null},r.createElement("div",{styleName:"title"},r.createElement("dt",{styleName:h?null:"hide-title"},h||(0,y.__)("Delivery Method:"),_&&r.createElement("div",{styleName:"subtitle"},_))),r.createElement("div",{styleName:"options"},l&&r.createElement("dd",null,r.createElement(f.Checkbox,{label:(0,y.__)("Phone call"),id:t+"-delivery-phone",checked:a.get(d,"phone"),disabled:!c&&!u,onChange:a.partial(m,"phone")})),o&&r.createElement("dd",null,r.createElement(f.Checkbox,{label:(0,y.__)("Email"),id:t+"-delivery-email",checked:a.get(d,"email"),onChange:a.partial(m,"email")})),r.createElement("dd",null,r.createElement(f.Checkbox,{label:(0,y.__)("SMS"),id:t+"-delivery-sms",checked:a.get(d,"sms"),disabled:!c&&!u,onChange:a.partial(m,"sms")}),g&&r.createElement(f.Tooltip,{trigger:r.createElement(p.IconWarning,{size:"md",color:"orange"}),direction:"end",content:(0,y.__)("Phone number is missing and/or unverified.")}))))}}]),t}(),i.displayName="settings/notification-settings-card-content",i.propTypes={group:h.default.string.isRequired,handleChange:h.default.func.isRequired,includeEmail:h.default.bool,includePhone:h.default.bool,isPhoneNumberVerified:h.default.bool.isRequired,settings:m.NotificationPreferencePropType.isRequired,skipPhoneVerification:h.default.bool,subtitle:h.default.string,title:h.default.string},i.defaultProps={settings:{}},o=l))||o,t.NotificationSettingsCard=e(_.default)((u=c=function(e){function t(){var e,n,r;b(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={justSaved:!1},v(r,n)}return E(t,r.Component),d(t,[{key:"componentDidUpdate",value:function(e){var t=this;e.isSaving&&!this.props.isSaving&&(this.setState({justSaved:!0}),setTimeout(function(){t.setState({justSaved:!1})},1e3))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.image,a=e.isSaving,o=e.subsubtitle,i=e.subtitle,l=e.title,s=this.state.justSaved;return r.createElement("li",{styleName:"item-active"},r.createElement("div",{styleName:"item-header"},a&&r.createElement("div",{styleName:"saving-notice"},r.createElement(p.IconCheckCircled,{size:"md",color:"orange"}),(0,y.__)("Saving...")),s&&r.createElement("div",{styleName:"saved-notice"},r.createElement(p.IconCheckCircled,{size:"md",color:"green"}),(0,y.__)("Saved!")),r.createElement("div",{styleName:"item-title"},r.createElement("span",{style:{backgroundImage:"url("+n+")"}},l),r.createElement("div",{styleName:"title-text"},r.createElement("h3",null,l),r.createElement("p",null,i),o&&r.createElement("p",{styleName:"subsubtitle"},o)))),r.createElement("div",{styleName:"item-footer"},t))}}]),t}(),c.displayName="settings/notification-settings-card",c.propTypes={children:h.default.node,image:h.default.string.isRequired,isSaving:h.default.bool.isRequired,subtitle:h.default.string.isRequired,subsubtitle:h.default.element,title:h.default.string.isRequired},s=u))||s}).call(this,n(5),n(1),n(4))},2108:function(e,t,n){e.exports={"item-active":"_notification-settings-card--item-active--aYKAW","item-inactive":"_notification-settings-card--item-inactive--pJZu3","item-header":"_notification-settings-card--item-header--1V4kt","saved-notice":"_notification-settings-card--saved-notice--3dKpT","saving-notice":"_notification-settings-card--saving-notice--1ds1g","item-title":"_notification-settings-card--item-title--2v-8k","title-text":"_notification-settings-card--title-text--xTZhH",subsubtitle:"_notification-settings-card--subsubtitle--19m9r","item-footer":"_notification-settings-card--item-footer--2pLca","hide-title":"_notification-settings-card--hide-title--3ilQ_",title:"_notification-settings-card--title--1BlGY",options:"_notification-settings-card--options--GNEYl",wide:"_notification-settings-card--wide--1I-Q5",subtitle:"_notification-settings-card--subtitle--kHPR0",select:"_notification-settings-card--select--2u2wq"}},2109:function(e,t,n){e.exports=n.p+"images/bullhorn-f52ab.png"},2110:function(e,t,n){e.exports=n.p+"images/careers-0b2b5.png"},2111:function(e,t,n){e.exports=n.p+"images/community-409af.png"},2112:function(e,t,n){e.exports=n.p+"images/learning-progress-eb887.png"},2113:function(e,t,n){e.exports=n.p+"images/payment-a92ac.png"},2114:function(e,t,n){e.exports=n.p+"images/reviews-32531.png"},2115:function(e,t,n){e.exports=n.p+"images/study-group-e3194.png"},2116:function(e,t,n){e.exports=n.p+"images/study-reminder-3db08.png"},2117:function(e,t,n){e.exports={"content-container":"_notifications--content-container--1sHja form--flex-column--g8OLQ",main:"_notifications--main--1u4xn form--main--31YLe","content-header":"_notifications--content-header--c1Yag form--header-text--ZDMyT","content-section":"_notifications--content-section--VDHOH","intro-text":"_notifications--intro-text--1fILA","unsubscribe-all":"_notifications--unsubscribe-all--2NqR5"}},2118:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0}),t.SettingPassword=void 0;var o,i,l,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(33),u=g(n(0)),d=g(n(1719)),f=g(n(198)),p=n(7),m=n(192),h=n(31),y=g(n(1869)),_=g(n(2119));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=t.SettingPassword=e(_.default)((l=i=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={currentPassword:"",newPassword:"",newPasswordRetype:"",isCurrentPasswordValid:!0,isNewPasswordValid:!0,areNewPasswordsMatching:!0},r._clearErrors=function(){r.setState({isCurrentPasswordValid:!0,isNewPasswordValid:!0,areNewPasswordsMatching:!0})},r._clearFields=function(){r.setState({currentPassword:"",newPassword:"",newPasswordRetype:""}),r._clearErrors()},r.handleCurrentPasswordChange=function(e){r.setState({currentPassword:a.get(e,"target.value")})},r.handleNewPasswordChange=function(e){var t=a.get(e,"target.value"),n=r._validateNewPassword(t);r.setState({newPassword:t,isNewPasswordValid:n})},r.handleRetypePasswordChange=function(e){var t=r.state.newPassword,n=a.get(e,"target.value"),o=t===n;r.setState({newPasswordRetype:n,areNewPasswordsMatching:o})},r.handleSaveClick=function(){r._clearErrors();var e=r.state,t=e.currentPassword,n=e.newPassword,a=e.isNewPasswordValid,o=e.areNewPasswordsMatching;if(a&&o)return f.default.resetPassword(t,n).then(function(){r._clearFields(),r.props.createNotificationAlert((0,p.__)("Password changed successfully"))}).catch(function(){r.props.createErrorAlert("Unable to change your password"),r.setState({isCurrentPasswordValid:!1})})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),s(t,[{key:"_validateNewPassword",value:function(e){return(0,y.default)(e,6,50)}},{key:"render",value:function(){var e=this.state,t=e.isCurrentPasswordValid,n=e.isNewPasswordValid,a=e.areNewPasswordsMatching,o=r.createElement(c.TextInput,{id:"current",label:"current",hiddenLabel:!0,value:this.state.currentPassword,onChange:this.handleCurrentPasswordChange,placeholder:(0,p.__)("Current Password"),type:"password",validation:t?null:r.createElement(c.FormValidation,{message:(0,p.__)("Password entered is incorrect")})}),i=r.createElement(c.TextInput,{id:"new",label:"new",hiddenLabel:!0,value:this.state.newPassword,onChange:this.handleNewPasswordChange,placeholder:(0,p.__)("New Password"),type:"password",validation:n?null:r.createElement(c.FormValidation,{message:(0,p.__)("New password must be at least 6 characters")})}),l=r.createElement(c.TextInput,{id:"verify",label:"verify",hiddenLabel:!0,value:this.state.newPasswordRetype,onChange:this.handleRetypePasswordChange,placeholder:(0,p.__)("Verify Password"),type:"password",validation:a?null:r.createElement(c.FormValidation,{message:(0,p.__)("Passwords must match")})});return r.createElement("section",{styleName:"content-container"},r.createElement("div",null,r.createElement("div",{styleName:"main"},r.createElement("div",{styleName:"password-container"},r.createElement("h1",{styleName:"content-header"},(0,p.__)("Change Password")),o,i,l)),r.createElement(d.default,{isSaveEnabled:a&&n,onSaveClick:this.handleSaveClick,onCancelClick:this._clearFields})))}}]),t}(),i.displayName="settings/setting-password",i.propTypes={createErrorAlert:u.default.func.isRequired,createNotificationAlert:u.default.func.isRequired},o=l))||o,E=(0,m.actionsBinder)("createErrorAlert","createNotificationAlert");t.default=(0,h.connect)(null,E)(v)}).call(this,n(5),n(1),n(4))},2119:function(e,t,n){e.exports={"content-container":"setting-password--content-container--5NJZH form--flex-column--g8OLQ",main:"setting-password--main--1_2rn form--main--31YLe","password-container":"setting-password--password-container--1y6dQ form--flex-column--g8OLQ","content-header":"setting-password--content-header--2vsPV form--header-text--ZDMyT","input-field":"setting-password--input-field--1lvAg form--input-field--1iAH4","error-field":"setting-password--error-field--1ii73 setting-password--input-field--1lvAg form--input-field--1iAH4 form--error-field--10p67"}},2120:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0}),t.SettingPersonalInfo=void 0;var o,i,l,s,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=E(n(13)),f=E(n(1745)),p=E(n(2121)),m=E(n(0)),h=E(n(1719)),y=n(7),_=n(31),g=E(n(2123)),b=E(n(1869)),v=E(n(2126));function E(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=t.SettingPersonalInfo=e(v.default)((l=i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.call(n);var r=n.props.user,a=r.first_name,o=r.last_name,i=r.email,l=r.phone_number,c=r.is_phone_number_verified;return n.state={firstName:a||"",lastName:o||"",email:i||"",newEmail:"",showNewEmailInput:!1,password:"",phoneNumber:l||"",isPhoneNumberVerified:c,isValidMap:{firstName:!0,lastName:!0,email:!0,password:!0,newEmail:!0,phoneNumber:!0}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),u(t,[{key:"_clearErrors",value:function(){this.setState({isValidMap:{firstName:!0,lastName:!0,email:!0,password:!0,newEmail:!0,phoneNumber:!0},showNewEmailInput:!1})}},{key:"_createNewUserObject",value:function(){var e=this.state,t=e.firstName,n=e.lastName,r=e.email,a=e.password,o=this.props.user,i={};return r!==o.email&&(i.email=r,i.password=a),t!==o.first_name&&(i.firstName=t),n!==o.last_name&&(i.lastName=n),i}},{key:"_getInputStyleName",value:function(e){return e?"field":"error-field"}},{key:"handleFieldChange",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t(n);this.setState(function(t){var o,i=t.isValidMap;return c((w(o={},e,n),w(o,"isValidMap",c({},i,w({},e,a))),o),r)})}},{key:"handlePhoneChange",value:function(e,t){this.setState(function(n){var r=n.isValidMap;return{phoneNumber:e,isPhoneNumberVerified:t,isValidMap:c({},r,{phoneNumber:!0})}})}},{key:"_isValid",value:function(){var e=this._createNewUserObject();return a.every(a.values(this.state.isValidMap))&&!a.isEmpty(e)}},{key:"_validateEmail",value:function(e){return(0,g.default)(e)}},{key:"_validateName",value:function(e){return(0,b.default)(e,1,50)}},{key:"_validatePassword",value:function(e){return!!e&&(0,b.default)(e,6,50)}},{key:"renderNewEmailFields",value:function(){var e=this,t=this.state,n=t.isValidMap,a=t.password,o=t.newEmail;return!!t.showNewEmailInput&&[r.createElement("div",{key:"new-email"},r.createElement("p",null,(0,y.__)("To change your email, re-enter your new email address, below")),r.createElement("label",{htmlFor:"newEmailInput"},(0,y.__)("Email Address")),r.createElement("input",{id:"newEmailInput",styleName:this._getInputStyleName(n.newEmail),type:"text",value:o,onChange:function(t){return e.handleFieldChange("newEmail",e._validateNewEmail,t.target.value)},placeholder:(0,y.__)("Email Address")})),r.createElement("div",{key:"password"},r.createElement("label",{htmlFor:"passwordInput"},(0,y.__)("Password")),r.createElement("input",{id:"passwordInput",styleName:this._getInputStyleName(n.password),value:a,onChange:function(t){return e.handleFieldChange("password",e._validatePassword,t.target.value)},placeholder:(0,y.__)("Password"),type:"password"}))]}},{key:"renderPhoneNumberFields",value:function(){var e=this,t=this.props.user,n=this.state,a=n.isPhoneNumberVerified,o=n.phoneNumber;return r.createElement(f.default,{number:o,userKey:t.id,verified:a,onChange:function(t,n){return e.handlePhoneChange(t,n)}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isValidMap,a=t.firstName,o=t.lastName,i=t.email,l=this.props.user;return r.createElement("ul",null,r.createElement("li",null,r.createElement("section",{styleName:"content-container"},r.createElement("div",{styleName:"main"},r.createElement("h1",{styleName:"content-header"},(0,y.__)("Basic Information")),r.createElement("label",{htmlFor:"firstNameInput"},(0,y.__)("First Name")),r.createElement("input",{id:"firstNameInput",styleName:this._getInputStyleName(n.firstName),type:"text",value:a,onChange:function(t){return e.handleFieldChange("firstName",e._validateName,t.target.value)},placeholder:(0,y.__)("First Name")}),r.createElement("label",{htmlFor:"lastNameInput"},(0,y.__)("Last Name")),r.createElement("input",{id:"lastNameInput",styleName:this._getInputStyleName(n.lastName),type:"text",value:o,onChange:function(t){return e.handleFieldChange("lastName",e._validateName,t.target.value)},placeholder:(0,y.__)("Last Name")}),r.createElement("label",{htmlFor:"emailInput"},(0,y.__)("Email Address")),r.createElement("input",{id:"emailInput",styleName:this._getInputStyleName(n.email),type:"text",value:i,onChange:function(t){return e.handleFieldChange("email",e._validateEmail,t.target.value,{showNewEmailInput:!0})},placeholder:(0,y.__)("Email Address")}),this.renderNewEmailFields(),this.renderPhoneNumberFields()),r.createElement(h.default,{onSaveClick:this.handleSaveClick,onCancelClick:this.handleCancelClick,isSaveEnabled:this._isValid()}))),r.createElement("li",null,r.createElement(p.default,{userId:l.id,emailAddress:i,rightToAccess:l.right_to_access})))}}]),t}(),i.displayName="settings/setting-personal-info",i.propTypes={createNotificationAlert:m.default.func.isRequired,updateUser:m.default.func.isRequired,user:m.default.object.isRequired},i.defaultProps={user:{}},s=function(){var e=this;this._validateNewEmail=function(t){var n=e.state.email;return!t||(0,g.default)(t)&&t===n},this.handleCancelClick=function(){var t=e.props.user,n=t.first_name,r=t.last_name,a=t.email;e.setState({firstName:n,lastName:r,email:a,newEmail:"",password:"",showNewEmailInput:!1}),e._clearErrors()},this.handleSaveClick=function(){var t=e.state,n=t.newEmail,r=t.showNewEmailInput,a=e._createNewUserObject();return e.props.updateUser(a).then(function(t){r&&a.email&&(t.email===n&&e.props.createNotificationAlert((0,y.__)("Please check your email to confirm your new email address")),e.setState({newEmail:"",password:"",showNewEmailInput:!1}))})}},o=l))||o,S=d.default.createNotificationAlert,N=d.default.updateUser;t.default=(0,_.connect)(null,{createNotificationAlert:S,updateUser:N})(C)}).call(this,n(5),n(1),n(4))},2121:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0}),t.GdprRequest=void 0;var o,i,l,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=b(n(13)),u=b(n(25)),d=b(n(1664)),f=n(55),p=n(1746),m=b(n(0)),h=b(n(198)),y=n(7),_=n(31),g=b(n(2122));function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E={ELIGIBLE:"eligible",INELIGIBLE_NOT_VERIFIED:"ineligible_not_verified",INELIGIBLE_NOT_EU:"ineligible_not_eu",INELIGIBLE_NOT_SELF:"ineligible_not_self"},w=t.GdprRequest=e(g.default)((l=i=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={verificationRequestSent:!1},r.handleSendEmailVerification=function(){var e=r.props.userId;return u.default.post(CONFIG.userApiUrl+"/users/"+e+"/send_verification_email").then(function(){r.setState({verificationRequestSent:!0})})},r.handleRequestData=function(){var e=r.props,t=e.createNotificationAlert,n=e.createWarningAlert;return h.default.createRightToAccessRequest().then(function(){t((0,y.__)("Your request has been sent. Please look out for our email."))}).catch(function(){n((0,y.__)('We had some trouble sending the information you requested. <a href=https://udacity.zendesk.com/hc/en-us/requests/new target="_blank">Report an Issue</a>',{},{renderHTML:!0}))})},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),s(t,[{key:"render",value:function(){var e=this.props,t=e.rightToAccess,n=e.emailAddress,o=this.state.verificationRequestSent,i=a.includes([E.ELIGIBLE,E.INELIGIBLE_NOT_VERIFIED],t),l=t===E.ELIGIBLE;return i?r.createElement("section",{styleName:"content-container"},r.createElement("h1",{styleName:"content-header"},(0,y.__)("Request access to your data")),r.createElement("p",null,(0,y.__)("If you would like a copy of your data, please:")),r.createElement("h2",{styleName:"content-header"},(0,y.__)("First")),r.createElement("p",null,(0,y.__)("Verify your email address so that we send your data to the correct place.")),l?r.createElement("div",{styleName:"email-verified"},r.createElement(f.IconCheckCircled,{color:"green",title:"success"}),r.createElement("div",{styleName:"email-verified-text"},r.createElement("p",null,(0,y.__)("All done. You have verified your email address")),r.createElement("p",null,r.createElement("strong",null,n)))):r.createElement("div",{styleName:"verification-process"},r.createElement(d.default,{onClick:this.handleSendEmailVerification,variant:"secondary",label:(0,y.__)("Send Verification")}),o?r.createElement(p.MinimalCard,{intent:"warning",summary:(0,y.__)("An email has been sent to your email address. When you have completed the instructions please return to this page and refresh it to continue to the next step.")}):null),r.createElement("h2",{styleName:"content-header"},(0,y.__)("And Last")),r.createElement("p",null,(0,y.__)("When youve confirmed your email address, click the button below in order to send us a request.")),r.createElement("div",{styleName:"request-data"},r.createElement(d.default,{onClick:this.handleRequestData,variant:"secondary",label:(0,y.__)("Request Data"),disabled:!l}))):null}}]),t}(),i.displayName="settings/setting-personal-info/gdpr",i.propTypes={userId:m.default.string.isRequired,emailAddress:m.default.string.isRequired,rightToAccessValues:m.default.oneOf(a.map(E))},o=l))||o;t.default=(0,_.connect)(null,{createNotificationAlert:c.default.createNotificationAlert,createWarningAlert:c.default.createWarningAlert})(w)}).call(this,n(5),n(1),n(4))},2122:function(e,t,n){e.exports={"content-container":"gdpr--content-container--1Pwqi setting-personal-info--content-container--2rXvo form--flex-column--g8OLQ setting-personal-info--main--3cA9D form--main--31YLe","content-header":"gdpr--content-header--11yVZ setting-personal-info--content-header--330IJ form--header-text--ZDMyT","email-verified-text":"gdpr--email-verified-text--cIXa9","email-verified":"gdpr--email-verified--3eXGc","verification-process":"gdpr--verification-process--19uRN","request-data":"gdpr--request-data--3SRgI"}},2126:function(e,t,n){e.exports={"content-container":"setting-personal-info--content-container--2rXvo form--flex-column--g8OLQ",main:"setting-personal-info--main--3cA9D form--main--31YLe","content-header":"setting-personal-info--content-header--330IJ form--header-text--ZDMyT",field:"setting-personal-info--field--1SB0y form--input-field--1iAH4","error-field":"setting-personal-info--error-field--1aWrZ setting-personal-info--field--1SB0y form--input-field--1iAH4 form--error-field--10p67"}},2127:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){return e.createElement(o.default,t)};var r,a=n(2128),o=(r=a)&&r.__esModule?r:{default:r}}).call(this,n(1))},2128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(2129),o=(r=a)&&r.__esModule?r:{default:r};t.default=o.default},2129:function(e,t,n){"use strict";(function(e,r,a,o){Object.defineProperty(t,"__esModule",{value:!0}),t.mapStateToProps=t.Subscriptions=void 0;var i,l,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(33),d=N(n(13)),f=N(n(2130)),p=N(n(479)),m=n(499),h=N(n(1883)),y=N(n(79)),_=N(n(498)),g=N(n(0)),b=N(n(57)),v=N(n(2194)),E=N(n(293)),w=n(7),C=n(31),S=N(n(2207));function N(e){return e&&e.__esModule?e:{default:e}}function O(t){return function(){var n=t.apply(this,arguments);return new e(function(t,r){return function a(o,i){try{var l=n[o](i),s=l.value}catch(e){return void r(e)}if(!l.done)return e.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});t(s)}("next")})}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=2,T=t.Subscriptions=r(S.default)((s=l=function(e){function t(){var e,n,r,i,l,s,c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var d=arguments.length,f=Array(d),p=0;p<d;p++)f[p]=arguments[p];return n=r=P(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.state={hideCards:!0},r.handleShowMoreClick=function(e){e.preventDefault();var t=r.state.hideCards;r.setState({hideCards:!t})},r.handleAutoRenewChange=(s=O(regeneratorRuntime.mark(function e(t,n){var a,o,i,l,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props,o=a.createErrorAlert,i=a.createSuccessAlert,l=a.fetchOrderHistory,s=a.updateAutoRenew,e.prev=1,e.next=4,s(t,n);case 4:return u=void 0,u=n?(0,w.__)("Saved! Your subscription will auto-renew and your payment method will automatically be charged monthly."):(0,w.__)("Saved! Your subscription will not auto-renew. You will receive a monthly bill."),e.next=8,i(u);case 8:return e.next=10,l();case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,o(e.t0.message);case 16:case"end":return e.stop()}},e,c,[[1,12]])})),function(e,t){return s.apply(this,arguments)}),r.handleBillingChange=O(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.fetchOrderHistory();case 2:case"end":return e.stop()}},e,c)})),r.handleOrderCancel=(l=O(regeneratorRuntime.mark(function e(t,n,a,o,i,l,s){var u,d,f,p,h,y,_,g,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.props,d=u.cancelOrder,f=u.cancelTermPurchase,p=u.createErrorAlert,h=u.createNotificationAlert,y=u.fetchOrderHistory,_=u.user,g=u.updateNotificationPreferences,e.prev=1,b=void 0,n!==m.FLEX_SUBSCRIPTION){e.next=15;break}return e.next=6,d(t,a,o,i,l,s);case 6:if(!o){e.next=12;break}return e.next=9,g(_.id,[{category:"cancellation",channel:"phone",value:l},{category:"cancellation",channel:"email",value:!0}]);case 9:b=(0,w.__)("We received your cancellation request. A representative will contact you."),e.next=13;break;case 12:b=(0,w.__)("Your subscription is pending cancellation.");case 13:e.next=18;break;case 15:return e.next=17,f({urn:t},a);case 17:b=(0,w.__)("Your purchase is pending cancellation.");case 18:return a&&!o&&(b+=" ",b+=(0,w.__)("A refund is being processed to your account.")),e.next=21,h(b);case 21:y(),e.next=28;break;case 24:return e.prev=24,e.t0=e.catch(1),e.next=28,p(e.t0.message);case 28:case"end":return e.stop()}},e,c,[[1,24]])})),function(e,t,n,r,a,o,i){return l.apply(this,arguments)}),r.handleOrderUncancel=(i=O(regeneratorRuntime.mark(function e(t){var n,a,o,i,l,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,a=n.createErrorAlert,o=n.createNotificationAlert,i=n.fetchOrderHistory,l=n.uncancelOrder,e.prev=1,e.next=4,l(t);case 4:return s=(0,w.__)("You closed your cancellation request. Your subscription is now active."),e.next=7,o(s);case 7:i(),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),u=(0,w.__)("You cannot re-enroll in the subscription. Please contact support@udacity.com if you need help."),e.next=15,a(u);case 15:case"end":return e.stop()}},e,c,[[1,10]])})),function(e){return i.apply(this,arguments)}),r.getSubscriptions=function(){var e=r.props.orderHistory;return o.sortBy(e,function(e){var t=e.next_payment;return t?new Date(t.due_at):new Date(o.get(e,"payment_history[0].charge.charged_at",e.created_at))}).reverse()},r.renderMoreItems=function(e){var t=r.state.hideCards;return[a.createElement("div",{styleName:"showing",key:"line"},a.createElement("div",{styleName:"line"}),a.createElement(u.Text,{size:"xs",spacing:"none"},(0,w.__)("Showing <%= visible %> of <%= total %> Subscriptions",{visible:t?k:e,total:e})),a.createElement("div",{styleName:"line"})),a.createElement("a",{href:"#",onClick:r.handleShowMoreClick,styleName:"center",key:"link"},a.createElement("h6",{color:"cerulean",align:"center",styleName:"see-more"},t?(0,w.__)("See More"):(0,w.__)("See Less")))]},r.renderSubscriptions=function(e){var t=r.props,n=t.billingInfo.auto_renew_eligible,i=t.isReadyToGraduateNdKeys,l=t.user;return a.createElement("ul",null,o.map(e,function(e){var t=o.includes(i,o.get(e,"purchased_products[0].nanodegree_key")),s=o.get(e,"payment_method.supports_auto_renew",!1);return a.createElement(v.default,{subscription:e,key:e.urn,autoRenewConfigurable:s,autoRenewEligible:n,onAutoRenewChange:r.handleAutoRenewChange,onOrderCancel:r.handleOrderCancel,onOrderUncancel:r.handleOrderUncancel,canGraduate:t,phoneNumber:l.phone_number||"",isPhoneNumberVerified:l.is_phone_number_verified})}))},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),c(t,[{key:"componentDidMount",value:function(){this.props.fetchSubscribedNanodegrees()}},{key:"renderNoSubscriptions",value:function(){return a.createElement("div",{styleName:"no-subscriptions"},a.createElement("img",{src:h.default,alt:(0,w.__)("Illustration of a sleeping book")}),a.createElement("div",null,a.createElement(u.Heading,{size:"h3",spacing:"2x"},(0,w.__)("You have yet to enroll in a Nanodegree program.")),a.createElement(u.Button,{external:!0,href:"https://www.udacity.com/nanodegree",label:(0,w.__)("See our programs"),variant:"primary"})))}},{key:"render",value:function(){var e=this.props,t=e.billingInfo,n=e.orderHistory,r=this.state.hideCards,i=this.getSubscriptions(),l=o.size(this.getSubscriptions()),s=l>k,c=r?i.slice(0,k):i,d=o.get(t,"billing_methods[0]");return a.createElement("section",{styleName:"content-container"},a.createElement(u.Loading,{busy:!1,label:(0,w.__)("Loading")},a.createElement("h1",{styleName:"title"},(0,w.__)("Subscriptions & Billing")),l>0?this.renderSubscriptions(c):this.renderNoSubscriptions(),s&&this.renderMoreItems(l),a.createElement("div",{styleName:"billing-card"},a.createElement(f.default,{billingMethod:d,onBillingChange:this.handleBillingChange,subscriptions:n})),a.createElement("div",{styleName:"footer"},a.createElement(u.Heading,{size:"h6",spacing:"half"},(0,w.__)("Need Help?")),a.createElement(u.Text,{size:"sm"},(0,w.__)('Check out <a href="https://udacity.zendesk.com/hc/en-us" target="_blank">Help and FAQs</a>',{renderHTML:!0})))))}}]),t}(),l.displayName="settings/subscriptions/_subscriptions",l.propTypes={billingInfo:p.default.billingInfo,cancelOrder:g.default.func.isRequired,cancelTermPurchase:g.default.func.isRequired,createErrorAlert:g.default.func.isRequired,createNotificationAlert:g.default.func.isRequired,fetchOrderHistory:g.default.func.isRequired,isReadyToGraduateNdKeys:g.default.arrayOf(g.default.string),orderHistory:g.default.arrayOf(p.default.historicOrder),user:p.default.user},i=s))||i,x=t.mapStateToProps=function(e){return{billingInfo:_.default.State.getBillingInfo(e),orderHistory:_.default.State.getOrderHistory(e),isReadyToGraduateNdKeys:o.chain(E.default.State.getSubscribedNanodegrees(e)).filter(y.default.isReadyToGraduate).map("key").value(),user:b.default.State.getUser(e)}};t.default=(0,C.connect)(x,{createSuccessAlert:d.default.createSuccessAlert,createNotificationAlert:d.default.createNotificationAlert,createErrorAlert:d.default.createErrorAlert,cancelOrder:d.default.cancelOrder,cancelTermPurchase:d.default.cancelTermPurchase,fetchOrderHistory:d.default.fetchOrderHistory,fetchSubscribedNanodegrees:d.default.fetchSubscribedNanodegrees,uncancelOrder:d.default.uncancelOrder,updateAutoRenew:d.default.updateAutoRenew,updateNotificationPreferences:d.default.updateNotificationPreferences})(T)}).call(this,n(11),n(5),n(1),n(4))},2130:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0}),t.BillingCard=void 0;var o,i,l,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2131),u=n(7),d=N(n(13)),f=N(n(2138)),p=N(n(2140)),m=N(n(479)),h=N(n(2182)),y=N(n(2185)),_=n(33),g=N(n(2186)),b=N(n(2188)),v=N(n(0)),E=N(n(2190)),w=N(n(2192)),C=n(31),S=N(n(2193));function N(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=t.BillingCard=e(S.default)((l=i=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={editingComponent:null,loading:!0,errorMessage:{show:!1,text:""}},a.handleAddClick=function(){a.setState({editingComponent:h.default})},a.handleCancelClick=function(){a.setState({editingComponent:null})},a.handleEditClick=function(e){e.preventDefault(),a.setState({editingComponent:p.default})},a.handleSaveSuccess=function(e){a.props.onBillingChange(),a.setState({editingComponent:null,address:e})},a.handleRemoveClick=function(e){var t=a.props.billingMethod;e.preventDefault(),a._isSepaPayment(t)?a._showCannotDeleteSepaError():a.props.onDeletePaymentMethod(t.urn).then(function(){a.props.onBillingChange().then(function(){a.setState({editingComponent:null})})})},a._isSepaPayment=function(e){return!!e&&"sepa_debit"===e.type},a._renderMultiplePaymentForm=function(e,t){return r.createElement("fieldset",{styleName:"billing-fieldset"},r.createElement(c.Tabs,{styleName:"payment-method-tabs",selectedIndex:e?1:0},r.createElement(c.TabList,null,r.createElement(c.Tab,null,"Credit Card"),r.createElement(c.Tab,null,"SEPA Direct-Debit")),r.createElement(c.TabPanel,null,a._renderEditingComponent(t)),r.createElement(c.TabPanel,null,r.createElement(E.default,{onCancelClick:a.handleCancelClick,onSaveSuccess:a.handleSaveSuccess}))))},a._showCannotDeleteSepaError=function(){a.setState({errorMessage:{show:!0,text:(0,u.__)('To delete this payment option, please send an empty email with the subject line\n                           "Delete SEPA payment details" to de-support@udacity.com')}})},a._renderEditingComponent=function(e){var t=a.state.editingComponent,n={onCancelClick:a.handleCancelClick,onSaveSuccess:a.handleSaveSuccess,urn:e,onHandleRemoveClick:a.handleRemoveClick,showCannotDeleteSepaError:a._showCannotDeleteSepaError};return r.createElement(t,n)},a._renderHeaders=function(e){return r.createElement("div",{styleName:"header"},r.createElement(_.Heading,{size:"h6",spacing:"none"},(0,u.__)("Payment Method")),e&&r.createElement("a",{href:"#",onClick:a.handleEditClick,styleName:"edit"},r.createElement(_.Heading,{size:"h6"},(0,u.__)("edit"))))},O(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),s(t,[{key:"componentDidMount",value:function(){var e=this;"CN"===u.i18n.getGeoLocation()?this.setState({loading:!1}):w.default.load().then(function(){return e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.props,t=e.billingMethod,n=e.subscriptions,o=this.state.editingComponent,i=void 0,l="CN"===u.i18n.getGeoLocation(),s=y.default.isSEPACountry()&&!y.default.hasCurrencyConflict(n);if(l)return r.createElement("div",null,r.createElement("section",{styleName:"content-container"}));if(this.state.loading)return r.createElement("section",{styleName:"content-container"},r.createElement(_.Loading,{label:(0,u.__)("Loading")}));if(a.isNil(t))i=r.createElement(f.default,{onAddClick:this.handleAddClick});else{var c=this._isSepaPayment(t);i=r.createElement("div",null,c?r.createElement(b.default,{source:t}):r.createElement(g.default,{billingMethod:t}),this.state.errorMessage.show?r.createElement("span",{styleName:"error-container"},this.state.errorMessage.text):null)}return r.createElement("div",{styleName:"item"},null===o?r.createElement("div",null,this._renderHeaders(t),i):s?this._renderMultiplePaymentForm(s,a.get(t,"urn")):this._renderEditingComponent(a.get(t,"urn")))}}]),t}(),i.displayName="settings/subscriptions/_billing-card",i.propTypes={billingMethod:m.default.billingMethod,onBillingChange:v.default.func.isRequired,onDeletePaymentMethod:v.default.func,subscriptions:v.default.array},i.defaultProps={onDeletePaymentMethod:function(){},subscriptions:[]},o=l))||o;t.default=(0,C.connect)(null,{onDeletePaymentMethod:d.default.deletePaymentMethod})(P)}).call(this,n(5),n(1),n(4))},2138:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(33),c=p(n(1872)),u=p(n(0)),d=n(7),f=p(n(2139));function p(e){return e&&e.__esModule?e:{default:e}}t.default=e((i=o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),l(t,[{key:"render",value:function(){return r.createElement("div",{styleName:"add-payment-method"},r.createElement("img",{src:c.default,alt:(0,d.__)("Illustration of a ghost")}),r.createElement("div",null,r.createElement(s.Text,null,(0,d.__)("Add a credit or debit card to make future purchases faster. This may unlock the auto-renew option so you never miss a payment.")),r.createElement(s.Button,{onClick:this.props.onAddClick,label:(0,d.__)("Add Payment Method"),small:!0,variant:"secondary"})))}}]),t}(),o.displayName="settings/setting-billing/_add-payment",o.propTypes={onAddClick:u.default.func},o.defaultProps={onAddClick:a.noop},i),f.default)}).call(this,n(5),n(1),n(4))},2139:function(e,t,n){e.exports={"add-payment-method":"_add-payment--add-payment-method--3SAzD"}},2140:function(e,t,n){"use strict";(function(e,r,a,o){Object.defineProperty(t,"__esModule",{value:!0}),t.BillingAddressWrapper=void 0;var i,l,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=_(n(13)),d=n(1748),f=n(33),p=_(n(0)),m=n(7),h=n(31),y=_(n(2181));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b={onUpdateBillingAddress:u.default.updateBillingAddress,createErrorAlert:u.default.createErrorAlert},v=t.BillingAddressWrapper=r(y.default)((s=l=function(t){function n(){var t,r,a,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return r=a=g(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(s))),a.state={validateAllFields:!1,address:{},valid:!1},a.handleSaveClick=(o=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.props.urn,n=a.state,r=n.address,n.valid){e.next=6;break}return a.setState({validateAllFields:!0}),e.abrupt("return");case 6:return e.next=8,a.props.onUpdateBillingAddress(t,r);case 8:a.props.onSaveSuccess(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a.props.createErrorAlert((0,m.__)("An error occurred while trying to update your card. "+e.t0.message));case 14:case"end":return e.stop()}},e,i,[[0,11]])}),function(){var t=o.apply(this,arguments);return new e(function(n,r){return function a(o,i){try{var l=t[o](i),s=l.value}catch(e){return void r(e)}if(!l.done)return e.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});n(s)}("next")})}),a.handleOnChange=function(e){var t=e.address,n=e.valid;a.setState({address:t,valid:n})},g(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.Component),c(n,[{key:"render",value:function(){var e=this.props,t=e.onCancelClick,n=e.onHandleRemoveClick,r=this.state.validateAllFields;return a.createElement("form",null,a.createElement("div",{styleName:"content-container"},a.createElement(d.AddressForm,{onChange:this.handleOnChange,validateAllFields:r})),a.createElement("div",{styleName:"buttons"},a.createElement(f.Button,{small:!0,label:(0,m.__)("Remove Card"),variant:"minimal",onClick:n}),a.createElement("div",null,a.createElement(f.Button,{small:!0,label:(0,m.__)("Cancel"),variant:"minimal",onClick:t}),a.createElement(f.Button,{small:!0,label:(0,m.__)("save"),variant:"primary",onClick:this.handleSaveClick}))))}}]),n}(),l.displayName="settings/setting-billing/_billing-address-wrapper",l.propTypes={onCancelClick:p.default.func,onSaveSuccess:p.default.func.isRequired,urn:p.default.string},l.defaultProps={onCancelClick:o.noop},i=s))||i;t.default=(0,h.connect)(null,b)(v)}).call(this,n(11),n(5),n(1),n(4))},2181:function(e,t,n){e.exports={"content-container":"_billing-address-wrapper--content-container--39Reh form--flex-column--g8OLQ form--main--31YLe",buttons:"_billing-address-wrapper--buttons--289az"}},2182:function(e,t,n){"use strict";(function(e,r,a,o){Object.defineProperty(t,"__esModule",{value:!0}),t.CreditCardWrapper=void 0;var i,l,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1748),d=g(n(13)),f=g(n(1882)),p=g(n(0)),m=g(n(1719)),h=n(7),y=n(31),_=g(n(2184));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v={onUpdateDefaultPaymentMethod:d.default.updateDefaultPaymentMethod,createErrorAlert:d.default.createErrorAlert},E=t.CreditCardWrapper=r(_.default)((s=l=function(t){function n(){var t,r,a,i,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return r=a=b(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(c))),a.state={validateAllFields:!1,card:{},valid:!1},a.handleSaveClick=(i=regeneratorRuntime.mark(function e(){var t,n,r,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.props.onUpdateDefaultPaymentMethod,n=a.state,r=n.card,n.valid){e.next=6;break}return a.setState({validateAllFields:!0}),e.abrupt("return");case 6:return e.next=8,u.TokenService.createCardToken("stripe",r);case 8:return i=e.sent,s=o.pick(r,["line1","line2","city","region","country","postalCode"]),e.next=12,t(i.card_token,s);case 12:a.props.onSaveSuccess(s),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),a.props.createErrorAlert((0,h.__)("Unable to add Card. Please verify the information you have entered."));case 18:case"end":return e.stop()}},e,l,[[0,15]])}),function(){var t=i.apply(this,arguments);return new e(function(n,r){return function a(o,i){try{var l=t[o](i),s=l.value}catch(e){return void r(e)}if(!l.done)return e.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});n(s)}("next")})}),a.handleOnChange=function(e){var t=e.card,n=e.valid;a.setState({card:t,valid:n})},b(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.Component),c(n,[{key:"render",value:function(){var e=this.props.onCancelClick,t=this.state.validateAllFields;return a.createElement("form",null,a.createElement("div",{styleName:"content-container"},a.createElement(f.default,null),a.createElement(u.CreditCardForm,{onChange:this.handleOnChange,validateAllFields:t})),a.createElement("div",{styleName:"buttons-container"},a.createElement(m.default,{onSaveClick:this.handleSaveClick,onCancelClick:e})))}}]),n}(),l.displayName="settings/setting-billing/_credit-card-wrapper",l.propTypes={onCancelClick:p.default.func,onSaveSuccess:p.default.func.isRequired},l.defaultProps={onCancelClick:o.noop},i=s))||i;t.default=(0,y.connect)(null,v)(E)}).call(this,n(11),n(5),n(1),n(4))},2183:function(e,t,n){e.exports={"header-text":"_billing-header--header-text--1opB4 form--header-text--ZDMyT","info-text":"_billing-header--info-text--2kqzp"}},2184:function(e,t,n){e.exports={"content-container":"_credit-card-wrapper--content-container--3bgjM form--flex-column--g8OLQ form--main--31YLe","buttons-container":"_credit-card-wrapper--buttons-container--JyEyl",buttons:"_credit-card-wrapper--buttons--2z4zI"}},2185:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1748),a=n(7);t.default={isSEPACountry:function(){return r.SepaCountries.isCountrySepaEnabled(a.i18n.getGeoLocation())},hasCurrencyConflict:function(t){return!e.every(t,function(e){return"EUR"===e.currency.toLocaleUpperCase()})}}}).call(this,n(4))},2186:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0});var o,i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(33),c=f(n(479)),u=n(7),d=f(n(2187));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=e((i=o=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.renderExpiration=function(){var e=r.props.billingMethod.credit_card,t=e.exp_month,n=e.exp_year;return"Expires "+(t<10?a.padStart(a.toString(t),"0"):t)+"/"+(n-2e3)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),l(t,[{key:"render",value:function(){var e=this.props.billingMethod.credit_card,t=e.address,n=t.line1,o=t.line2,i=t.city,l=t.region,c=t.postal_code,d=e.brand,f=e.last4,p=e.name,m="cc-icon";d&&(m=a.kebabCase(d)+"-icon");var h=a.isString(n);return r.createElement("div",null,r.createElement("div",{styleName:"cc-container"},r.createElement("div",{styleName:"half"},r.createElement(s.Heading,{size:"h6",color:"silver"},(0,u.__)("card information")),r.createElement("div",{styleName:"cc-info"},r.createElement("span",{styleName:"cc-icon"},r.createElement("span",{styleName:m})),r.createElement("span",null,r.createElement(s.Text,{spacing:"none"},"**** **** **** ",f),r.createElement(s.Text,null,this.renderExpiration())))),h&&r.createElement("div",{styleName:"half"},r.createElement(s.Heading,{size:"h6",color:"silver"},(0,u.__)("billing address")),r.createElement("address",null,r.createElement(s.Text,{spacing:"none"},p),r.createElement(s.Text,{spacing:"none"},n),o&&r.createElement(s.Text,{spacing:"none"},o),r.createElement(s.Text,{spacing:"none"},i,", ",l," ",c)))))}}]),t}(),o.displayName="settings/setting-billing/_payment-card",o.propTypes={billingMethod:c.default.billingMethod.isRequired},i),d.default)}).call(this,n(5),n(1),n(4))},2187:function(e,t,n){e.exports={"cc-container":"_payment-card--cc-container--3_1hS",half:"_payment-card--half--2nkgJ","cc-info":"_payment-card--cc-info--3gBsM","cc-icon":"_payment-card--cc-icon--9y7kY",icon:"_payment-card--icon--3Gf7u","american-express-icon":"_payment-card--american-express-icon--32FTJ _payment-card--icon--3Gf7u","amex-icon":"_payment-card--amex-icon--_BP2M _payment-card--icon--3Gf7u","dinersclub-icon":"_payment-card--dinersclub-icon--U9Jrk _payment-card--icon--3Gf7u","discover-icon":"_payment-card--discover-icon--ZdD34 _payment-card--icon--3Gf7u","jcb-icon":"_payment-card--jcb-icon--mT3Cj _payment-card--icon--3Gf7u","mastercard-icon":"_payment-card--mastercard-icon--Oj6Vb _payment-card--icon--3Gf7u","master-card-icon":"_payment-card--master-card-icon--1r0un _payment-card--mastercard-icon--Oj6Vb _payment-card--icon--3Gf7u","visa-icon":"_payment-card--visa-icon--c16rz _payment-card--icon--3Gf7u"}},2188:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=u(n(0)),s=n(7),c=u(n(2189));function u(e){return e&&e.__esModule?e:{default:e}}t.default=e((o=a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"render",value:function(){var e=this.props.source,t=e.source_details.last4.toString().slice(0,2),n=e.source_details.last4.toString().slice(2);return r.createElement("div",null,r.createElement("div",{styleName:"cc-container"},r.createElement("div",{styleName:"cc-info"},r.createElement("div",null,e.owner.name),r.createElement("div",null,e.source_details.country,"   ",t," ",n),r.createElement("a",{href:e.source_details.mandate_url,target:"_blank",styleName:"link"},(0,s.__)("View SEPA Mandate"))),r.createElement("div",{styleName:"cc-icon"},r.createElement("div",{styleName:"bank-icon"}))))}}]),t}(),a.displayName="settings/setting-billing/_payment-sepa",a.propTypes={source:l.default.shape({id:l.default.string,currency:l.default.string,object:l.default.string,type:l.default.string,owner:l.default.shape({address:l.default.object,email:l.default.string}),source_details:l.default.shape({last4:l.default.number,country:l.default.string,fingerprint:l.default.string,mandate_reference:l.default.string,mandate_url:l.default.string})}),id:l.default.string},a.defaultProps={source:{}},o),c.default)}).call(this,n(5),n(1))},2189:function(e,t,n){e.exports={"cc-container":"_payment-sepa--cc-container--2Fqdh","cc-info":"_payment-sepa--cc-info--cOqTX form--flex-column--g8OLQ form--header-text--ZDMyT","cc-icon":"_payment-sepa--cc-icon--2QEs1","right-align":"_payment-sepa--right-align--NrBl9",icon:"_payment-sepa--icon--2Web3","bank-icon":"_payment-sepa--bank-icon--2DwsR _payment-sepa--icon--2Web3",link:"_payment-sepa--link--NvfDv"}},2190:function(e,t,n){"use strict";(function(e,r,a,o){Object.defineProperty(t,"__esModule",{value:!0}),t.SepaFormWrapper=void 0;var i,l,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1748),d=g(n(13)),f=g(n(1882)),p=g(n(0)),m=g(n(1719)),h=n(7),y=n(31),_=g(n(2191));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v={onUpdateDefaultSource:d.default.updateDefaultSource,createErrorAlert:d.default.createErrorAlert},E=t.SepaFormWrapper=r(_.default)((s=l=function(t){function n(){var t,r,a,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return r=a=b(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(s))),a.state={validateAllFields:!1,bankAccount:{},valid:!1},a.handleSaveClick=(o=regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.props.onUpdateDefaultSource,n=a.state,r=n.bankAccount,n.valid){e.next=6;break}return a.setState({validateAllFields:!0}),e.abrupt("return");case 6:return e.next=8,u.TokenService.createSepaToken(r);case 8:return o=e.sent,e.next=11,t(o);case 11:a.props.onSaveSuccess(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a.props.createErrorAlert((0,h.__)("An error occurred while trying to update your SEPA direct-debit"));case 17:case"end":return e.stop()}},e,i,[[0,14]])}),function(){var t=o.apply(this,arguments);return new e(function(n,r){return function a(o,i){try{var l=t[o](i),s=l.value}catch(e){return void r(e)}if(!l.done)return e.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});n(s)}("next")})}),a.handleOnChange=function(e){var t=e.bankAccount,n=e.valid;a.setState({bankAccount:t,valid:n})},b(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.Component),c(n,[{key:"render",value:function(){var e=this.state.validateAllFields;return a.createElement("div",null,a.createElement("div",{className:"sepa-form"},a.createElement("div",{styleName:"content-container"},a.createElement(f.default,null),a.createElement("div",{styleName:"inputs-container"},a.createElement(u.SepaForm,{onChange:this.handleOnChange,validateAllFields:e})))),a.createElement(m.default,{onSaveClick:this.handleSaveClick,onCancelClick:this.props.onCancelClick}))}}]),n}(),l.displayName="settings/setting-billing/_sepa-form-wrapper",l.propTypes={onCancelClick:p.default.func,onSaveSuccess:p.default.func.isRequired},l.defaultProps={onCancelClick:o.noop},i=s))||i;t.default=(0,y.connect)(null,v)(E)}).call(this,n(11),n(5),n(1),n(4))},2191:function(e,t,n){e.exports={"content-container":"_sepa-form-wrapper--content-container--3uRAR form--main--31YLe","inputs-container":"_sepa-form-wrapper--inputs-container--2B6L8 form--flex-column--g8OLQ"}},2192:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(302),o=(r=a)&&r.__esModule?r:{default:r};t.default={load:function(){return o.default.promisedLoad("https://js.stripe.com/v2/","stripe-base").then(function(){window.Stripe.setPublishableKey(CONFIG.stripePublishableKey)})},createStripeToken:function(t){return new e(function(e,n){window.Stripe.card.createToken(t,function(t,r){t.error?n(t.error):e(r.id)})})}}}).call(this,n(11))},2193:function(e,t,n){e.exports={item:"_billing-card--item--JtPox _subscription-card--item--agyqV","content-container":"_billing-card--content-container--2UcTh","edit-container":"_billing-card--edit-container--_K1Q4 _billing-card--content-container--2UcTh",header:"_billing-card--header--3ZHdt undefined",edit:"_billing-card--edit--13Y2w",data:"_billing-card--data--uJJ_O",address:"_billing-card--address--TmucK","cc-info":"_billing-card--cc-info--3vv0g","cc-icon":"_billing-card--cc-icon--3DAN0",buttons:"_billing-card--buttons--1drbd"}},2194:function(e,t,n){"use strict";(function(e,r,a,o){Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionCard=void 0;var i,l,s,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(33),f=n(499),p=R(n(13)),m=R(n(1787)),h=R(n(32)),y=R(n(2195)),_=R(n(2200)),g=R(n(479)),b=R(n(193)),v=R(n(1682)),E=R(n(1872)),w=R(n(1883)),C=n(55),S=R(n(2205)),N=R(n(498)),O=R(n(0)),P=R(n(496)),k=n(7),T=n(31),x=R(n(2206));function R(e){return e&&e.__esModule?e:{default:e}}function A(t){return function(){var n=t.apply(this,arguments);return new e(function(t,r){return function a(o,i){try{var l=n[o](i),s=l.value}catch(e){return void r(e)}if(!l.done)return e.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});t(s)}("next")})}}var j=t.SubscriptionCard=r(x.default,{allowMultiple:!0})((s=l=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,i,l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.state={historyOpen:!1,isSavingAutoRenew:!1,modalOpen:!1,toolTipOpen:!1,width:0},l.handleAutoCaptureChange=(r=A(regeneratorRuntime.mark(function e(t){var r,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=l.props,a=r.onAutoRenewChange,i=r.subscription.urn,s=o.get(t,"target.checked"),l.setState({isSavingAutoRenew:!0}),e.next=6,a(i,s);case 6:l.setState({isSavingAutoRenew:!1});case 7:case"end":return e.stop()}},e,n)})),function(e){return r.apply(this,arguments)}),l.handleHistoryClick=function(e){e.preventDefault();var t=l.state.historyOpen;l.setState({historyOpen:!t})},l.handleCancel=(i=A(regeneratorRuntime.mark(function e(t,r,a){var o,i,s,c,u,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.props,i=o.isAssistedCancelEnabled,s=o.onOrderCancel,c=o.subscription,u=c.can_refund,d=c.type,f=c.urn,e.next=3,s(f,d,u,i,t,r,a);case 3:case"end":return e.stop()}},e,n)})),function(e,t,n){return i.apply(this,arguments)}),l.renderCancelBtn=function(){var e=l.props,t=e.canGraduate,n=e.isAssistedCancelEnabled,r=e.isPhoneNumberVerified,i=e.phoneNumber,s=e.subscription,u=e.subscription,p=u.can_refund,h=u.cancel_url,y=u.period_end_date,g=u.purchased_product_description,v=u.status,E=u.total_amount_charged,w=u.type,C=u.urn,S=l.state.modalOpen;if(o.isString(h)&&o.includes(f.CANCELABLE_STATUSES,v)){var O=c({},m.default.getSubscriptionData(s),{name:g,purchase_urn:C});return[a.createElement(d.Button,{onClick:function(){return l.setState({modalOpen:!0})},label:(0,k.__)("Cancel"),small:!0,variant:"minimal",key:"btn"}),a.createElement(_.default,{show:S,isAssistedCancelEnabled:n,onHide:function(){return l.setState({modalOpen:!1})},itemType:w,analyticsData:O,onCancel:l.handleCancel,key:"cancel",refundable:p&&!t,refundAmount:N.default.getDisplayPrice(E.display),periodEndDate:b.default.formatDate(y),phoneNumber:i,isPhoneNumberVerified:r})]}},l.renderPayBtn=function(){var e=l.props.subscription,t=e.can_refund,n=e.next_payment.payment_url;if(o.isString(n)&&!t)return a.createElement(d.Button,{external:!0,full:!0,href:n,label:(0,k.__)("Pay Now"),variant:"primary"})},l.setWindowWidth=l.setWindowWidth.bind(l),l.debouncedSetWindowWidth=o.debounce(l.setWindowWidth,300),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),u(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchFeatureEnabledOptimizely,n=e.subscription,r=e.subscription,a=r.cancel_url,i=r.status,l=P.default.getNanodegreeKey(n);o.isString(a)&&o.includes(f.CANCELABLE_STATUSES,i)&&t(v.default.CANCEL_FLOW_ASSISTED_SALES+"-"+l,h.default.getCurrentUserId(),v.default.CANCEL_FLOW_ASSISTED_SALES,{is_china_managed_nd:P.default.isChinaManaged(n),is_enterprise:P.default.isEnterprise(n),is_preorder:P.default.isPreorder(n),is_open_ended:o.isEqual(o.get(n,"type"),f.FLEX_SUBSCRIPTION)}),this.setWindowWidth(),window.addEventListener("resize",this.debouncedSetWindowWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedSetWindowWidth)}},{key:"setWindowWidth",value:function(){this.setState({width:window.innerWidth})}},{key:"renderAutoRenew",value:function(){var e=this.props,t=e.subscription,n=t.urn,r=t.next_payment.can_auto_renew,o=t.payment_method.processor,i=e.autoRenewConfigurable,l=e.autoRenewEligible,s=this.state.isSavingAutoRenew;return l?a.createElement("div",null,a.createElement("div",{styleName:"flex-center"},a.createElement(d.Loading,{size:"sm",busy:s},a.createElement(d.Checkbox,{label:(0,k.__)("Auto-renew"),id:"autopay-"+n,checked:r,disabled:!i,onChange:this.handleAutoCaptureChange,testID:"autopay-checkbox"})),!i&&"stripe"===o&&a.createElement(d.Tooltip,{trigger:a.createElement(C.IconWarning,{color:"orange",size:"md",title:"add payment method"}),direction:this.state.width>550?"bottom":"start",content:(0,k.__)("Please add a payment method below to enable auto-renew for this subscription.")})),a.createElement("p",{styleName:"payment-message"},(0,k.__)("Keep your subscription active and enable auto-renew or pay before the due date."))):a.createElement("p",{styleName:"payment-message payment-no-auto-renew"},(0,k.__)("Keep your subscription active and pay before the due date"))}},{key:"renderBanner",value:function(e,t){var n=b.default.getGracePeriod(e),r={overdue:{copy:(0,k.__)("Payment is past due! Pay before <%= date %> to avoid losing access.",{date:n}),variant:"warning"},failed:{copy:(0,k.__)("Failed payment. Pay before <%= date %> to avoid losing access.",{date:n}),variant:"error"}};return a.createElement("div",{styleName:"banner"},a.createElement(d.Banner,{embedded:!0,icon:a.createElement(C.IconWarning,null),variant:r[t].variant},r[t].copy))}},{key:"renderNextPayment",value:function(){var e=this.props.subscription,t=e.next_payment,n=e.payment_history,r=o.get(n,"[0]",{});return a.createElement("div",{styleName:"payment"},N.default.paymentFailed(r)&&this.renderBanner(o.get(r,"charge.charged_at",""),"failed"),N.default.paymentOverdue(t)&&this.renderBanner(o.get(t,"due_at",""),"overdue"),a.createElement("div",{styleName:"grid"},a.createElement("div",{styleName:"payment-info"},a.createElement("p",{styleName:"payment-due"},(0,k.__)("due date")),a.createElement("p",{styleName:"payment-due-date"},b.default.formatShortMonth(o.get(t,"due_at")))),a.createElement("div",{styleName:"payment-auto-renew"},this.renderAutoRenew()),a.createElement("div",{styleName:"payment-pay-now"},a.createElement("p",{styleName:"pay-amount"},N.default.getDisplayPrice(t)),this.renderPayBtn())))}},{key:"renderNoNextPayment",value:function(){var e=this,t=this.props,n=t.onOrderUncancel,r=t.subscription,i=r.purchased_products,l=r.status,s=r.type,c=r.urn,u=r.payment_history,p=o.get(u,"[0]",{});if(s===f.FLEX_SUBSCRIPTION){if(l===f.CANCELING)return a.createElement("div",{styleName:"no-payment-canceling"},a.createElement("div",null,a.createElement("img",{src:w.default,alt:(0,k.__)("Illustration of a sleeping book")})),a.createElement("div",null,a.createElement(d.Text,null,(0,k.__)("Change your mind? It's not too late.")),a.createElement(d.Button,{onClick:function(){e.setState({modalOpen:!1}),n(c)},label:(0,k.__)("Keep my enrollment"),small:!0,variant:"primary"})));var m="https://www.udacity.com/course/"+o.get(i,"[0].nanodegree_key");return a.createElement("div",{styleName:"no-payment-canceled"},a.createElement("div",null,a.createElement("img",{src:E.default,alt:(0,k.__)("Illustration of a ghost")})),a.createElement("div",null,a.createElement(d.Text,null,(0,k.__)("Jump back in where you left off.")),a.createElement(d.Button,{href:m,external:!0,label:(0,k.__)("Re-Enroll"),small:!0,variant:"primary"})))}return a.createElement("div",{styleName:"no-payment-needed"},N.default.paymentFailed(p)&&this.renderBanner(o.get(p,"charge.charged_at",""),"failed"),a.createElement("img",{src:S.default,alt:(0,k.__)("Illustration of a map with a flag")}),a.createElement("div",null,!N.default.paymentFailed(p)&&a.createElement(d.Text,null,(0,k.__)("No upcoming payment. Keep on learning!"))))}},{key:"renderEnrolledDate",value:function(){var e=this.props.subscription,t=e.created_at,n=e.canceled_at,r=e.period_end_date,i=e.status,l=e.updated_at,s=function(e,t){return a.createElement("p",{styleName:"info-line"},a.createElement("span",{styleName:"bold"},e,": "),b.default.formatDate(t))};if(o.isEqual(i,f.PREORDER)){var c=o.get(this.props,"subscription.next_payment.due_at");return s((0,k.__)("Opens on"),c)}return o.includes(f.CANCELABLE_STATUSES,i)?s((0,k.__)("Enrolled on"),t):i===f.CANCELING?s((0,k.__)("Enrollments end on"),r):s((0,k.__)("Unenrolled on"),n||l)}},{key:"renderPaymentMethod",value:function(){var e=this.props.subscription.payment_method;return a.createElement("div",null,a.createElement("p",{styleName:"info-line"},a.createElement("span",{styleName:"bold"},(0,k.__)("Payment method"),": "),e.description))}},{key:"renderStatus",value:function(e){switch(e){case f.CANCELING:return(0,k.__)("cancel pending");default:return(0,k.__)(o.lowerCase(e))}}},{key:"render",value:function(){var e=this.props.subscription,t=e.next_payment,n=e.payment_method,r=e.purchased_products,i=e.status,l=e.payment_history,s=e.payment_plan.type,c=this.state.historyOpen,u=n&&o.includes(f.SHOW_PAYMENT_METHOD_STATUSES,i);return a.createElement("li",{styleName:"item"},a.createElement("div",{styleName:"contain"},a.createElement("div",{styleName:"product"},a.createElement("p",{styleName:"status"},this.renderStatus(i)),a.createElement("p",{styleName:"title"},r[0].name),this.renderEnrolledDate(),u&&this.renderPaymentMethod()),t?this.renderNextPayment():this.renderNoNextPayment()),a.createElement("div",null,c&&a.createElement(y.default,{nextPayment:t,payments:l,productInfo:r[0],type:s}),a.createElement("div",{styleName:"billing"},a.createElement("a",{styleName:"billing-link",href:"javascript:void(0)",title:(0,k.__)("billing history"),onClick:this.handleHistoryClick},a.createElement("div",{styleName:"flex-center"},c?a.createElement("span",{styleName:"drawer-icon"},""):a.createElement("span",{styleName:"drawer-icon"},"+"),a.createElement("span",null,(0,k.__)("billing history")))),this.renderCancelBtn())))}}]),t}(),l.displayName="settings/subscriptions/_subscription-card",l.propTypes={autoRenewConfigurable:O.default.bool.isRequired,autoRenewEligible:O.default.bool.isRequired,createErrorAlert:O.default.func.isRequired,createNotificationAlert:O.default.func.isRequired,canGraduate:O.default.bool.isRequired,isAssistedCancelEnabled:O.default.bool.isRequired,isPhoneNumberVerified:O.default.bool.isRequired,onAutoRenewChange:O.default.func.isRequired,onOrderCancel:O.default.func.isRequired,onOrderUncancel:O.default.func.isRequired,subscription:g.default.historicOrder,phoneNumber:O.default.string.isRequired},i=s))||i;t.default=(0,T.connect)(function(e,t){var n=P.default.getNanodegreeKey(t.subscription);return{isAssistedCancelEnabled:o.get(e,"features."+v.default.CANCEL_FLOW_ASSISTED_SALES+"-"+n+".isEnabled",!1)}},{createErrorAlert:p.default.createErrorAlert,createNotificationAlert:p.default.createNotificationAlert,fetchFeatureEnabledOptimizely:p.default.fetchFeatureEnabledOptimizely})(j)}).call(this,n(11),n(5),n(1),n(4))},2195:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,l,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(33),u=n(2196),d=n(55),f=_(n(479)),p=_(n(193)),m=_(n(2197)),h=_(n(498)),y=n(7);function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=e(_(n(2199)).default)((l=i=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={showInvoiceModal:!1},r.filteredPayments=function(){var e=r.props.payments;return a.filter(e,function(e){var t=e.status;return!a.includes(u.FILTERABLE_PAYMENT_STATUSES,t)})},r.paymentsWithNext=function(){var e=r.props.nextPayment;return e?[{urn:e.urn,status:h.default.paymentOverdue(e)?"past_due":"due",charge:{charged_at:e.due_at},total_amount:{display:e.total_amount.display}}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r.filteredPayments())):r.filteredPayments()},r.openModal=function(e){r.setState({showInvoiceModal:e})},r.closeModal=function(){r.setState({showInvoiceModal:null})},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),s(t,[{key:"formatStatus",value:function(e){return(0,y.__)(a.replace(a.capitalize(e),"_"," "))}},{key:"renderTooltip",value:function(e){var t=p.default.getGracePeriod(e),n=(0,y.__)("If you do not make a payment before the grace period ends on <%= gracePeriod %>, your subscription and enrollment to the program will become inactive",{gracePeriod:t}),a=r.createElement(d.IconWarning,{color:"orange",size:"md"});return r.createElement(c.Tooltip,{content:n,trigger:a,direction:"bottom",inverse:!0})}},{key:"renderStatus",value:function(e,t){return e===u.PAST_DUE||e===u.FAILED?r.createElement("td",{styleName:"td"},r.createElement("span",{styleName:"overdue"},this.formatStatus(e)),this.renderTooltip(t)):r.createElement("td",{styleName:"td"},this.formatStatus(e))}},{key:"render",value:function(){var e=this,t=this.state.showInvoiceModal;return r.createElement("div",{styleName:"billing-history"},r.createElement("table",{styleName:"table"},r.createElement("thead",{styleName:"header"},r.createElement("tr",null,r.createElement("th",{styleName:"header-col"},(0,y.__)("Due Date")),r.createElement("th",{styleName:"header-col"},(0,y.__)("Status")),r.createElement("th",{styleName:"header-col"},(0,y.__)("Amount")),r.createElement("th",{styleName:"header-col"},(0,y.__)("Receipt")))),r.createElement("tbody",{styleName:"payments"},a.map(this.paymentsWithNext(),function(n,o){return r.createElement("tr",{key:n.urn},r.createElement("td",{styleName:"td"},p.default.formatShortMonth(a.get(n,"charge.charged_at"))),e.renderStatus(a.get(n,"status"),a.get(n,"charge.charged_at")),r.createElement("td",{styleName:"td"},h.default.getDisplayPrice(n)),r.createElement("td",{styleName:"td"},r.createElement(c.Button,{label:(0,y.__)("request receipt"),icon:r.createElement(d.IconDownload,{color:"cerulean",size:"sm"}),iconOnly:!0,onClick:function(){return e.openModal(o)},variant:"minimal"}),r.createElement(m.default,{payment:n,productInfo:e.props.productInfo,type:e.props.type,open:t===o,onClose:e.closeModal})))}))))}}]),t}(),i.propTypes={nextPayment:f.default.nextPayment,payments:f.default.paymentHistory},o=l))||o;t.default=b}).call(this,n(5),n(1),n(4))},2196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ACTIVE="active",a=t.PREORDER="pre_order",o=t.CANCELING="canceling",i=(t.CANCELED="canceled",t.PAST_DUE="past_due");t.FAILED="failed",t.FLEX_SUBSCRIPTION="flex_subscription",t.CANCELABLE_STATUSES=[a,r,i],t.FILTERABLE_PAYMENT_STATUSES=["invalidated"],t.SHOW_PAYMENT_METHOD_STATUSES=[a,r,o,i]},2197:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InvoiceModal=void 0;var a,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(33),c=g(n(13)),u=g(n(124)),d=g(n(32)),f=g(n(479)),p=g(n(1791)),m=g(n(2198)),h=g(n(0)),y=n(7),_=n(31);function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v={createErrorAlert:c.default.createErrorAlert},E=t.InvoiceModal=(o=a=function(t){function n(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return t=a=b(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),a.state={fullName:"",address1:"",address2:"",company:""},a.handleTextChange=function(e){var t=r.get(e,"target.name"),n=r.get(e,"target.value");a.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n))},a.handleDownloadInvoice=function(){var e=a.props,t=e.createErrorAlert,n=e.payment,o=e.onClose,l=e.productInfo,s=l.cohort_id,c=l.nanodegree_key,f=l.term_id,h=e.type,y=a.getInvoiceParams(n),_=n.urn,g=n.total_amount.display,b=d.default.getCurrentUserId();return m.default.fetchInvoice(y).then(function(e){var t=new File([e],{type:"application/octet-stream"});p.default.saveAs(t,"Payment receipt "+y.invoice_id+".pdf"),u.default.track("Receipt Downloaded",i({invoiceUrn:_,payment_plan_type:h,receipt_price:g,user_id:b,cohort_id:s,nanodegree_key:c,term_id:f},r.omit(y,["template","invoice_id"]))),o()}).catch(function(e){var n=r.get(e,"error.message"),a=m.default.mapInvoiceError(n);console.error(n),t(a),o()})},a.getInvoiceParams=function(e){var t=a.state,n=t.address1,o=t.address2,i=t.company,l=t.fullName,s=r.last(r.split(r.get(e,"urn"),":")),c=e.line_items;return{address_1:n,address_2:o,company:i,invoice_id:s,locale:y.i18n.getLocale(),name:l,template:"nd-term-invoice",line_items:c}},b(a,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),l(n,[{key:"render",value:function(){var t=this.props,n=t.open,a=t.onClose,o=this.state,i=o.fullName,l=o.address1,c=o.address2,u=o.company;return e.createElement(s.Modal,{onClose:a,label:"request-receipt",open:n},e.createElement(s.Heading,{spacing:"1x",size:"h3"},(0,y.__)("Download your receipt")),e.createElement(s.Text,null,(0,y.__)("Add your name and address to download your receipt. Add your company information and address if you need an receipt for your employer.")),e.createElement(s.TextInput,{id:"name",label:(0,y.__)("Full Name"),name:"fullName",required:!0,onChange:this.handleTextChange,value:i}),e.createElement(s.TextInput,{id:"company",label:(0,y.__)("Company"),name:"company",onChange:this.handleTextChange,value:u}),e.createElement(s.TextInput,{id:"address1",label:(0,y.__)("Address 1"),name:"address1",onChange:this.handleTextChange,value:l}),e.createElement(s.TextInput,{id:"address2",label:(0,y.__)("Address 2"),name:"address2",onChange:this.handleTextChange,value:c}),e.createElement(s.Button,{disabled:r.isEmpty(i),label:(0,y.__)("download receipt"),onClick:this.handleDownloadInvoice,variant:"primary"}))}}]),n}(),a.propTypes={open:h.default.bool.isRequired,onClose:h.default.func.isRequired,payment:f.default.prevPayment.isRequired},o);t.default=(0,_.connect)(null,v)(E)}).call(this,n(1),n(4))},2198:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(32),i=(a=o)&&a.__esModule?a:{default:a},l=n(7);t.default={fetchInvoice:function(t){return new e(function(e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState?200===r.status?e(r.response):n(r.response):2===r.readyState&&(200===r.status?r.responseType="blob":r.responseType="json")},r.open("POST",CONFIG.printerApiUrl+"/v2/invoice",!0),r.setRequestHeader("Authorization","Bearer "+i.default.getJWTToken()),r.send(JSON.stringify(t))})},mapInvoiceError:function(e){switch(!0){case r.includes(e,".html: no such file or directory"):return(0,l.__)("Unable to create invoice. Your language is not supported.");case r.includes(e,"jwt missing"):return(0,l.__)("Unable to create invoice. You are not logged in.");default:return(0,l.__)("Unable to create invoice.")}}}}).call(this,n(11),n(4))},2199:function(e,t,n){e.exports={"billing-history":"_subscription-card-billing-history--billing-history--1AoHt",table:"_subscription-card-billing-history--table--wb8Mp",header:"_subscription-card-billing-history--header--8zbaB","header-col":"_subscription-card-billing-history--header-col--2343k",td:"_subscription-card-billing-history--td--1tAXP",payments:"_subscription-card-billing-history--payments--2HE9s",overdue:"_subscription-card-billing-history--overdue--1JBBP"}},2200:function(e,t,n){"use strict";(function(e,r,a,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,s,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(33),f=w(n(124)),p=w(n(1745)),m=w(n(32)),h=n(2201),y=w(n(2202)),_=n(499),g=w(n(0)),b=n(1655),v=n(7),E=w(n(2204));function w(e){return e&&e.__esModule?e:{default:e}}function C(t){return function(){var n=t.apply(this,arguments);return new e(function(t,r){return function a(o,i){try{var l=n[o](i),s=l.value}catch(e){return void r(e)}if(!l.done)return e.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});t(s)}("next")})}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=r(E.default)((s=l=function(e){function t(){var e,n,r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={cancelReasonKey:"",cancelFollowUp:!1,cancelInFlight:!1,hasPhoneOptIn:!1,hasRequestedCancel:!1,radioSelection:"",radioSelectionFollowUp:"",showInitialQuestion:!0,otherText:"",otherTextFollowUp:"",otherTextAreaFollowUp:""},r.itemName=function(){return r.props.itemType===_.FLEX_SUBSCRIPTION?(0,v.__)("Subscription"):(0,v.__)("Payment")},r.resetCancelForm=function(){r.setState({cancelReasonKey:"",cancelFollowUp:!1,cancelInFlight:!1,hasPhoneOptIn:!1,hasRequestedCancel:!1,radioSelection:"",radioSelectionFollowUp:"",showInitialQuestion:!0,otherText:"",otherTextFollowUp:"",otherTextAreaFollowUp:""})},r.handleReasonChange=function(e){var t=o.get(e,"raw"),n=o.get(e,"key"),a=o.includes(["","Other"],t);r.setState({cancelReasonKey:n,radioSelection:t,showInitialQuestion:a})},r.handleFollowUpReasonChange=function(e){var t=o.get(e,"raw");r.setState({radioSelectionFollowUp:t,cancelFollowUp:!0})},r.handleFollowUpTextAreaChange=function(e){var t=!o.isEmpty(e);r.setState({otherTextAreaFollowUp:e,cancelFollowUp:t})},r.handleOtherReasonChange=function(e){r.setState({otherText:e,radioSelection:"Other"})},r.handleOtherFollowUpChange=function(e){r.setState({otherTextFollowUp:e,followUpSelection:"Other",cancelFollowUp:!0})},r.getCancelReason=function(){var e=r.state,t=e.radioSelection,n=e.otherText,a=t;return"Other"===t&&(a+=" - "+n),a},r.getCancelFollowUpReason=function(){var e=r.state,t=e.radioSelectionFollowUp,n=e.otherTextFollowUp,a=e.otherTextAreaFollowUp;return"Other"===t?t+" - "+n:t||a},r.trackCancelSurvey=function(){var e=r.props.analyticsData,t=r.getCancelReason();f.default.track("Cancel "+r.itemName()+" Reason Submitted",c({},e,{category:"Cancel "+r.itemName()+" Reason Submitted",label:"Cancel "+r.itemName()+" Reason Submitted",comments:t}))},r.handleCancelSurveyClick=C(regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.onCancel,a=t.onHide,r.setState({cancelInFlight:!0}),e.next=4,n();case 4:return r.setState({cancelInFlight:!1}),r.trackCancelSurvey(),e.next=8,a();case 8:case"end":return e.stop()}},e,i)})),r.handleRequestCancellationClick=function(){r.trackCancelSurvey(),r.setState({hasRequestedCancel:!0})},r.handleSurveyHide=C(regeneratorRuntime.mark(function e(){var t,n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state.hasRequestedCancel,n=r.props,a=n.analyticsData,o=n.onHide,!t){e.next=7;break}return e.next=5,r.handlePhoneOptInOutCompleteClick();case 5:e.next=9;break;case 7:return e.next=9,f.default.track("Cancel "+r.itemName()+" Modal Dismissed",c({},a,{category:"Cancel "+r.itemName()+" Attempt",label:"Cancel "+r.itemName()+" Attempt - Dismissed"}));case 9:return r.resetCancelForm(),e.next=12,o();case 12:case"end":return e.stop()}},e,i)})),r.handlePhoneOptInClick=function(e){var t=o.get(e,"target.checked");r.setState({hasPhoneOptIn:t})},r.handlePhoneChange=function(e,t){t&&r.setState({isPhoneNumberVerified:!0})},r.handlePhoneOptInOutCompleteClick=C(regeneratorRuntime.mark(function e(){var t,n,a,o,l,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.onCancel,n=r.state,a=n.hasPhoneOptIn,o=n.cancelReasonKey,l=r.getCancelReason(),s=h.CANCEL_SURVEY.FOLLOW_UP_QUESTIONS[o].question,c=r.getCancelFollowUpReason(),u={cancel_follow_up_question:s,cancel_follow_up_reason:c},r.setState({cancelInFlight:!0}),e.next=9,t(l,a,u);case 9:r.setState({cancelInFlight:!1});case 10:case"end":return e.stop()}},e,i)})),r.getCancelMessage=function(){var e=r.props,t=e.isAssistedCancelEnabled,n=e.itemType,a=e.periodEndDate,o=e.refundable,i=e.refundAmount,l=void 0;switch(!0){case t&&n===_.FLEX_SUBSCRIPTION&&o:l=(0,v.__)("Tell us why you'd like to cancel so we can improve. We will reach out over email with more information on how to complete the cancellation process. Once completed, you will lose access immediately. Your refund of <%= refundAmount %> will be posted to your billing history.",{refundAmount:i});break;case n===_.FLEX_SUBSCRIPTION&&o:l=(0,v.__)("Tell us why you'd like to cancel so we can improve. Canceling your subscription will result in loss of access immediately. Your refund of <%= refundAmount %> will be posted to your billing history.",{refundAmount:i});break;case t&&n===_.FLEX_SUBSCRIPTION&&!o:l=(0,v.__)("Tell us why you'd like to cancel so we can improve. We will reach out over email with more information on how to complete the cancellation process. Once completed, your subscription will discontinue future and auto-renew payments. Your enrollment will be active through <%= periodEndDate %>.",{periodEndDate:a});break;case n===_.FLEX_SUBSCRIPTION&&!o:l=(0,v.__)("Tell us why you'd like to cancel so we can improve. Canceling your subscription will discontinue future and auto-renew payments. Your enrollment will be active through <%= periodEndDate %>.",{periodEndDate:a});break;default:l=(0,v.__)("Tell us why you'd like to cancel so we can improve. Canceling will result in loss of access immediately. Your refund of <%= refundAmount %> will be posted to your billing history.",{refundAmount:i})}return l},r.renderFollowUpQuestion=function(e){var t=h.CANCEL_SURVEY.FOLLOW_UP_QUESTIONS[e],n=r.state,o=n.radioSelectionFollowUp,i=n.otherTextFollowUp,l=n.otherTextAreaFollowUp,s=t.type===b.TYPES.RADIO?o:l;return a.createElement(y.default,{heading:a.createElement(d.Heading,{size:"h1"},(0,v.__)("Tell us more")),question:t.question,reasons:t.options,type:t.type,onReasonChange:r.handleFollowUpReasonChange,radioSelection:r.radioSelectionFollowUp,hasOtherOption:t.hasOtherOption,value:s,onOtherTextChange:r.handleOtherFollowUpChange,otherText:i,onTextChange:r.handleFollowUpTextAreaChange})},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),u(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.analyticsData;t.show&&!e.show&&f.default.track("Clicked Cancel "+this.itemName(),c({},n,{category:"Cancel "+this.itemName()+" Attempt",label:"Cancel "+this.itemName()+" Attempt - Clicked"}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAssistedCancelEnabled,r=t.isPhoneNumberVerified,i=t.phoneNumber,l=t.show,s=this.state,c=s.cancelFollowUp,u=s.cancelInFlight,f=s.cancelReasonKey,_=s.hasPhoneOptIn,g=s.hasRequestedCancel,w=s.radioSelection,C=s.showInitialQuestion,S=s.otherText;return a.createElement(d.Modal,{open:l,onClose:this.handleSurveyHide,label:(0,v.__)("Cancel Subscription"),closeLabel:(0,v.__)("Close Modal")},g?a.createElement("div",null,a.createElement(d.Heading,{size:"h3"},(0,v.__)("Cancellation request received")),a.createElement(d.Text,null,(0,v.__)("We will reach out over email with more information on how to complete the cancellation process.")),a.createElement("div",{styleName:"checkbox-phone-opt-in"},a.createElement(d.Checkbox,{label:(0,v.__)("Call me to discuss alternative options"),id:"cancellation-phone-opt-in",checked:_,onChange:this.handlePhoneOptInClick})),_&&a.createElement(p.default,{className:E.default["phone-number-manager"],number:i,userKey:m.default.getCurrentUserId(),verified:r,onChange:function(t,n){return e.handlePhoneChange(t,n)}}),a.createElement(d.Text,null,(0,v.__)('By clicking on "Accept", you agree to calls under the Udacity <a href="https://www.udacity.com/legal/terms-of-use" target="_blank">Terms of Use</a> and <a href="https://www.udacity.com/legal/privacy" target="_blank">Privacy Policy</a>',{},{renderHTML:!0})),a.createElement(d.Button,{label:_?(0,v.__)("Accept"):(0,v.__)("Done"),onClick:this.handlePhoneOptInOutCompleteClick})):a.createElement("div",null,C&&a.createElement(y.default,{heading:a.createElement(d.Heading,{size:"h1"},(0,v.__)("Leaving So Soon?")),question:this.getCancelMessage(),reasons:h.CANCEL_SURVEY.REASONS,type:b.TYPES.RADIO,onReasonChange:this.handleReasonChange,radioSelection:w,value:w,hasOtherOption:!0,onOtherTextChange:this.handleOtherReasonChange,otherText:S}),!C&&f&&this.renderFollowUpQuestion(f),a.createElement(d.Button,{label:n?(0,v.__)("Request Cancellation"):(0,v.__)("Cancel <%= item_name %>",{item_name:this.itemName()}),disabled:o.isEmpty(f)||o.isEmpty(S)&&!c||u,variant:"destructive",onClick:n?this.handleRequestCancellationClick:this.handleCancelSurveyClick}),a.createElement(d.Button,{label:(0,v.__)("I changed my mind"),variant:"minimal",key:"hide-button",onClick:this.handleSurveyHide})))}}]),t}(),l.displayName="settings/setting-subscriptions/_cancel-modal",l.propTypes={analyticsData:g.default.object.isRequired,isAssistedCancelEnabled:g.default.bool.isRequired,isPhoneNumberVerified:g.default.bool.isRequired,itemType:g.default.string.isRequired,onCancel:g.default.func.isRequired,onHide:g.default.func.isRequired,periodEndDate:g.default.string,phoneNumber:g.default.string.isRequired,refundable:g.default.bool.isRequired,refundAmount:g.default.string.isRequired,show:g.default.bool.isRequired},i=s))||i;t.default=N}).call(this,n(11),n(5),n(1),n(4))},2201:function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CANCEL_SURVEY=void 0;var a=n(1655),o=n(7);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(t,n){var r={};if(r[n])return r[n];var a=e.map(t,function(t){if(e.isString(t))return{raw:t,translated:(0,o.__)(t)};var n=t.reason;return{key:t.key,raw:n,translated:(0,o.__)(n)}}),i=e.shuffle(a);return n&&(r[n]=i),i}var s=l([{key:"time",reason:"I am not able to dedicate enough time to this Nanodegree program"},{key:"fit",reason:"This nanodegree is not a great fit for me"},{key:"quality",reason:"I am not happy with the quality of your content"},{key:"cost",reason:"I don't feel this Nanodegree program is worth the cost"},{key:"support",reason:"I wasn't happy with the level of support I received"}],"main"),c=(i(r={},"time",{question:(0,o.__)("What is the main reason you are not able to dedicate enough time?"),options:l(["Work commitments","Family commitments","The program is not engaging enough for me","I'm putting my time towards other learning platforms","Deadlines are too aggressive"],"time"),hasOtherOption:!0,type:a.TYPES.RADIO}),i(r,"fit",{question:(0,o.__)("What is the main reason the nanodegree is not a good fit?"),options:l(["The content was not what I was looking for","I am no longer interested in the content","I was looking for more foundational content","I was looking for more advanced content","I don't like the format or style of the course"],"fit"),hasOtherOption:!1,type:a.TYPES.RADIO}),i(r,"quality",{question:(0,o.__)("I am not happy with the quality of your content"),options:l(["The content is not the right level of difficulty for me","The coverage of the topics is not deep or thorough enough","The program content is disorganized, unclear, or confusing","There isn't enough hands-on practice","The content, format, or instructors are not engaging"],"quality"),hasOtherOption:!0,type:a.TYPES.RADIO}),i(r,"cost",{question:(0,o.__)("Why is the program not worth the cost?"),type:a.TYPES.TEXT_AREA}),i(r,"support",{question:(0,o.__)("Which option best describes why you are not happy with the level of support?"),options:l(["I couldn't get a timely response from my mentor","The mentor did not have relevant technical skills","The mentor did not have good communication skills","I did not get a timely resolution to my support requests over email","I needed more or better interaction with fellow students"],"support"),hasOtherOption:!0,type:a.TYPES.RADIO}),r);t.CANCEL_SURVEY={TIME:"time",FIT:"fit",QUALITY:"quality",COST:"cost",SUPPORT:"support",OTHER:"Other",get FOLLOW_UP_QUESTIONS(){return c},get REASONS(){return s},getFollowUpQuestion:function(t){return e.get(c,t)}}}).call(this,n(4))},2202:function(e,t,n){"use strict";(function(e,r,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,l,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(33),u=p(n(0)),d=n(1655),f=n(7);function p(e){return e&&e.__esModule?e:{default:e}}var m=e(p(n(2203)).default)((l=i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),s(t,[{key:"renderInputs",value:function(){switch(this.props.type){case d.TYPES.RADIO:return this.renderRadioOptions();case d.TYPES.TEXT_AREA:return this.renderTextArea();default:return null}}},{key:"renderTextArea",value:function(){var e=this.props,t=e.value,n=e.onTextChange;return r.createElement("div",{styleName:"text-area"},r.createElement(c.TextArea,{rows:3,hiddenLabel:!0,label:"response",id:"response",onChange:function(e){return n(e.target.value)},value:t}))}},{key:"renderRadioOptions",value:function(){var e=this.props,t=e.reasons,n=e.onOtherTextChange,o=e.onReasonChange,i=e.value,l=e.hasOtherOption,s=e.otherText;return r.createElement("ul",{styleName:"responses-container"},a.map(t,function(e,t){return r.createElement("li",{key:t},r.createElement(c.Radio,{id:"response-"+t,name:"responses-group",label:e.translated,checked:i===e.raw,onChange:function(){o(e)}}))}),l&&r.createElement("li",{styleName:"other-reason"},r.createElement(c.Radio,{id:"responses-other",name:"responses-group",label:(0,f.__)("Other:"),checked:"Other"===i,onChange:function(){o({key:"Other",raw:"Other",translated:(0,f.__)("Other")})}}),r.createElement("input",{styleName:"other-reason-input",className:"form-control",type:"text",value:s,onChange:function(e){return n(e.target.value)},ref:"otherReason"})))}},{key:"render",value:function(){var e=this.props,t=e.heading,n=e.question;return r.createElement("div",null,t,r.createElement(c.Text,{spacing:"1x"},n),this.renderInputs())}}]),t}(),i.propTypes={question:u.default.string.isRequired,reasons:u.default.arrayOf(u.default.string),type:u.default.string.isRequired,heading:u.default.Component,value:u.default.oneOf(u.default.string,u.default.object),hasOtherOption:u.default.bool,otherText:u.default.string,onOtherTextChange:u.default.func,onReasonChange:u.default.func,onTextChange:u.default.func},o=l))||o;t.default=m}).call(this,n(5),n(1),n(4))},2203:function(e,t,n){e.exports={"responses-container":"_cancel-question--responses-container--1LyUb form--flex-column--g8OLQ","other-reason":"_cancel-question--other-reason--1ZWna","other-reason-input":"_cancel-question--other-reason-input--2QUJI","text-area":"_cancel-question--text-area--2KyOI"}},2204:function(e,t,n){e.exports={"checkbox-phone-opt-in":"_cancel-modal--checkbox-phone-opt-in--eoT6n","phone-number-manager":"_cancel-modal--phone-number-manager--1047A","prompt-container":"_cancel-modal--prompt-container--1XXWt"}},2205:function(e,t,n){e.exports=n.p+"images/map-flag-1cf39.png"},2206:function(e,t,n){e.exports={item:"_subscription-card--item--agyqV",contain:"_subscription-card--contain--1GsM3",product:"_subscription-card--product--2cyE4",status:"_subscription-card--status--oxbuy",title:"_subscription-card--title--V_PDa","info-line":"_subscription-card--info-line--2toRW",bold:"_subscription-card--bold--1CIQL",payment:"_subscription-card--payment--2nNM1",grid:"_subscription-card--grid--1d5gq","payment-info":"_subscription-card--payment-info--1s7H0","payment-auto-renew":"_subscription-card--payment-auto-renew--1JtuF","payment-pay-now":"_subscription-card--payment-pay-now--3CNyj","payment-due":"_subscription-card--payment-due--yM63l","payment-due-date":"_subscription-card--payment-due-date--2qnk3","payment-message":"_subscription-card--payment-message--kXQc5","payment-no-auto-renew":"_subscription-card--payment-no-auto-renew--3zTzQ",pay:"_subscription-card--pay--29EP4","pay-amount":"_subscription-card--pay-amount--1nkWw",billing:"_subscription-card--billing--1y7SW","drawer-icon":"_subscription-card--drawer-icon--8f79t","flex-center":"_subscription-card--flex-center--15ZYq","billing-link":"_subscription-card--billing-link--3DmbG","no-payment-canceled":"_subscription-card--no-payment-canceled--1rJzP","no-payment-canceling":"_subscription-card--no-payment-canceling--wiz_5","no-payment-needed":"_subscription-card--no-payment-needed--1aR9R",banner:"_subscription-card--banner--3_u_E"}},2207:function(e,t,n){e.exports={"content-container":"_subscriptions--content-container--2FV2K form--flex-column--g8OLQ",title:"_subscriptions--title--2nNpU","billing-card":"_subscriptions--billing-card--1_rR6",showing:"_subscriptions--showing--31Mhv",line:"_subscriptions--line--22v27",center:"_subscriptions--center--2jcVU",footer:"_subscriptions--footer--2y9Rx","see-more":"_subscriptions--see-more--3zqot","no-subscriptions":"_subscriptions--no-subscriptions--3Pm1g"}}}]);
//# sourceMappingURL=https://s3-us-west-2.amazonaws.com/udacity-classroom-web/js/routes-settings.62afb.js.map